"use strict";exports.id=53,exports.ids=[53,434],exports.modules={3338:(e,t,r)=>{r.d(t,{y4:()=>o,p8:()=>i,dc:()=>l});var n=Object.getOwnPropertyNames;let c=((e,t)=>function(){return t||(0,e[n(e)[0]])((t={exports:{}}).exports,t),t.exports})({"src/runtime/node/safe-node-apis.js"(e,t){let{existsSync:n,writeFileSync:c,readFileSync:s,appendFileSync:i,mkdirSync:l,rmSync:o}=r(73024);t.exports={fs:{existsSync:n,writeFileSync:c,readFileSync:s,appendFileSync:i,mkdirSync:l,rmSync:o},path:r(76760),cwd:()=>process.cwd()}}})();function s(e,t){if(!e)throw Error(`Clerk: ${t} is missing. This is an internal error. Please contact Clerk's support.`)}let i=()=>(s(c.fs,"fs"),c.fs),l=()=>(s(c.path,"path"),c.path),o=()=>(s(c.cwd,"cwd"),c.cwd)},37053:(e,t,r)=>{r.r(t),r.d(t,{createOrReadKeyless:()=>m,removeKeyless:()=>w,safeParseClerkFile:()=>f});var n=r(53056),c=r(3338),s=r(37757);let i=".clerk",l="clerk.lock",o=(...e)=>{let t=(0,c.dc)(),r=(0,c.y4)();return t.join(r(),i,...e)},a=".tmp",u=()=>o(a,"keyless.json"),d=()=>o(a,"README.md"),p=!1;function f(){let{readFileSync:e}=(0,c.p8)();try{let t,r=u();try{t=e(r,{encoding:"utf-8"})||"{}"}catch{t="{}"}return JSON.parse(t)}catch{return}}let h=()=>{let{writeFileSync:e}=(0,c.p8)();p=!0,e(l,"This file can be deleted. Please delete this file and refresh your application",{encoding:"utf8",mode:"0777",flag:"w"})},y=()=>{let{rmSync:e}=(0,c.p8)();try{e(l,{force:!0,recursive:!0})}catch{}p=!1},g=()=>{let{existsSync:e}=(0,c.p8)();return p||e(l)};async function m(){let{writeFileSync:e,mkdirSync:t}=(0,c.p8)();if(g())return null;h();let r=u(),l=d();t(o(a),{recursive:!0}),function(){let{existsSync:e,writeFileSync:t,readFileSync:r,appendFileSync:n}=(0,c.p8)(),s=(0,c.dc)(),l=(0,c.y4)(),o=s.join(l(),".gitignore");e(o)||t(o,""),r(o,"utf-8").includes(i+"/")||n(o,`
# clerk configuration (can include secrets)
/${i}/
`)}();let p=f();if((null==p?void 0:p.publishableKey)&&(null==p?void 0:p.secretKey))return y(),p;let m=(0,n.n)({}),w=await (0,s.i)().then(s.$).catch(()=>new Headers),k=await m.__experimental_accountlessApplications.createAccountlessApplication({requestHeaders:w}).catch(()=>null);return k&&(e(r,JSON.stringify(k),{encoding:"utf8",mode:"0777",flag:"w"}),e(l,`
## DO NOT COMMIT
This directory is auto-generated from \`@clerk/nextjs\` because you are running in Keyless mode. Avoid committing the \`.clerk/\` directory as it includes the secret key of the unclaimed instance.
  `,{encoding:"utf8",mode:"0777",flag:"w"})),y(),k}function w(){let{rmSync:e}=(0,c.p8)();if(!g()){h();try{e(o(),{force:!0,recursive:!0})}catch{}y()}}}};