(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{1812:(e,t,s)=>{Promise.resolve().then(s.bind(s,95341))},3991:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},22935:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},26722:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,ThemeProvider:()=>o});var r=s(54568),a=s(7620);let i=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},o=e=>{let{children:t}=e,[s,n]=(0,a.useState)("light"),[o,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{l(!0),(()=>{try{let e=localStorage.getItem("gayed-dashboard-theme");if(e&&("light"===e||"dark"===e))return void n(e);window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?n("dark"):n("light")}catch(e){console.warn("Error loading theme preference:",e),n("light")}})()},[]),(0,a.useEffect)(()=>{if(o)try{localStorage.setItem("gayed-dashboard-theme",s),document.documentElement&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(s));let e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","light"===s?"#f4f6f8":"#1a1a1a")}catch(e){console.warn("Error applying theme changes:",e)}},[s,o]),(0,r.jsx)(i.Provider,{value:{theme:s,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")},setTheme:n},children:(0,r.jsx)("div",{suppressHydrationWarning:!o,style:{display:"contents"},children:t})})}},42487:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},44057:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},49369:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},59048:(e,t,s)=>{"use strict";s.d(t,{H:()=>l,UserPreferencesProvider:()=>o});var r=s(54568),a=s(7620);let i=(0,a.createContext)(void 0),n="gayed-dashboard-user-preferences";function o(e){let{children:t}=e,[s,o]=(0,a.useState)({strategies:{}}),[l,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{c(!0);try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);t&&"object"==typeof t&&t.strategies&&o(t)}}catch(e){console.error("Failed to load user preferences:",e),o({strategies:{}})}},[]),(0,a.useEffect)(()=>{if(l&&0!==Object.keys(s.strategies).length)try{localStorage.setItem(n,JSON.stringify(s))}catch(e){console.error("Failed to save user preferences:",e)}},[s,l]),(0,r.jsx)(i.Provider,{value:{preferences:s,updateETFSelection:(e,t,s)=>{o(r=>{let a=r.strategies[e]||{selectedETFs:{},totalAllocation:0},i={...a.selectedETFs[t]||{symbol:t,selected:!1,allocation:0},selected:s};s||(i.allocation=0);let n={...a,selectedETFs:{...a.selectedETFs,[t]:i}};return n.totalAllocation=Object.values(n.selectedETFs).filter(e=>e.selected).reduce((e,t)=>e+t.allocation,0),{...r,strategies:{...r.strategies,[e]:n}}})},updateETFAllocation:(e,t,s)=>{o(r=>{let a=r.strategies[e]||{selectedETFs:{},totalAllocation:0},i={...a.selectedETFs[t]||{symbol:t,selected:!1,allocation:0},allocation:Math.max(0,Math.min(100,s))},n={...a,selectedETFs:{...a.selectedETFs,[t]:i}};return n.totalAllocation=Object.values(n.selectedETFs).filter(e=>e.selected).reduce((e,t)=>e+t.allocation,0),{...r,strategies:{...r.strategies,[e]:n}}})},getSelectedETFs:e=>{let t=s.strategies[e];return t?Object.values(t.selectedETFs).filter(e=>e.selected):[]},getTotalAllocation:e=>{let t=s.strategies[e];return(null==t?void 0:t.totalAllocation)||0},resetStrategy:e=>{o(t=>{let s={...t.strategies};return delete s[e],{...t,strategies:s}})},exportPreferences:()=>JSON.stringify(s,null,2),importPreferences:e=>{try{let t=JSON.parse(e);return o(t),!0}catch(e){return console.error("Failed to import preferences:",e),!1}}},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUserPreferences must be used within a UserPreferencesProvider");return e}},93385:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},95341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(54568),a=s(7620),i=s(24508),n=s(40368),o=s(66734),l=s(98889);let c=(0,l.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var d=s(65440),m=s(3991);let x=(0,l.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var h=s(44057),g=s(22935);let p=(0,l.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var u=s(99966),y=s(49369),b=s(93385),f=s(42487),v=s(27261),j=s.n(v),N=s(26722),w=s(59048);let k={utilities_spy:{strategyName:"Utilities/SPY Signal",description:"Based on utilities vs SPY relative performance - indicates market risk appetite",riskOnETFs:[{symbol:"SPY",name:"SPDR S&P 500 ETF Trust",category:"Large Cap",riskLevel:"Medium",expenseRatio:"0.09%",description:"Tracks the S&P 500 index of large-cap US stocks",trackingInfo:"S&P 500 Index",priority:"PRIMARY"},{symbol:"QQQ",name:"Invesco QQQ Trust",category:"Technology",riskLevel:"Medium",expenseRatio:"0.20%",description:"Tracks the Nasdaq-100 index of technology and growth stocks",trackingInfo:"Nasdaq-100 Index",priority:"PRIMARY"},{symbol:"IWM",name:"iShares Russell 2000 ETF",category:"Small Cap",riskLevel:"High",expenseRatio:"0.19%",description:"Tracks small-cap US stocks via the Russell 2000 index",trackingInfo:"Russell 2000 Index",priority:"SECONDARY"},{symbol:"SPXL",name:"Direxion Daily S&P 500 Bull 3X Shares",category:"Leveraged",riskLevel:"Very High",expenseRatio:"0.95%",description:"3x leveraged exposure to the S&P 500 index",trackingInfo:"3x S&P 500 Daily Performance",priority:"ALTERNATIVE"}],riskOffETFs:[{symbol:"XLU",name:"Utilities Select Sector SPDR Fund",category:"Utilities",riskLevel:"Low",expenseRatio:"0.12%",description:"Tracks utilities companies that provide electricity, gas, and water services",trackingInfo:"Utilities Select Sector Index",priority:"PRIMARY"},{symbol:"SPLV",name:"Invesco S&P 500 Low Volatility ETF",category:"Low Volatility",riskLevel:"Low",expenseRatio:"0.25%",description:"Invests in the 100 least volatile stocks from the S&P 500",trackingInfo:"S&P 500 Low Volatility Index",priority:"SECONDARY"},{symbol:"USMV",name:"iShares MSCI USA Min Vol Factor ETF",category:"Min Volatility",riskLevel:"Low",expenseRatio:"0.15%",description:"Targets the lowest volatility stocks in the US market",trackingInfo:"MSCI USA Minimum Volatility Index",priority:"ALTERNATIVE"}]},lumber_gold:{strategyName:"Lumber/Gold Signal",description:"Based on lumber vs gold relative performance - inflation and economic growth indicator",riskOnETFs:[{symbol:"WOOD",name:"iShares Global Timber & Forestry ETF",category:"Commodities",riskLevel:"High",expenseRatio:"0.46%",description:"Invests in companies engaged in timber and forestry related businesses",trackingInfo:"S&P Global Timber & Forestry Index",priority:"PRIMARY"},{symbol:"CUT",name:"Invesco MSCI Global Timber ETF",category:"Commodities",riskLevel:"High",expenseRatio:"0.61%",description:"Alternative lumber exposure through global timber companies",trackingInfo:"MSCI ACWI IMI Timber Select Capped Index",priority:"ALTERNATIVE"},{symbol:"XLI",name:"Industrial Select Sector SPDR Fund",category:"Industrials",riskLevel:"Medium",expenseRatio:"0.12%",description:"Industrial sector exposure benefiting from lumber demand",trackingInfo:"Industrial Select Sector Index",priority:"SECONDARY"}],riskOffETFs:[{symbol:"GLD",name:"SPDR Gold Trust",category:"Precious Metals",riskLevel:"Medium",expenseRatio:"0.40%",description:"Tracks the price of gold bullion",trackingInfo:"London Gold PM Fix Price",priority:"PRIMARY"},{symbol:"IAU",name:"iShares Gold Trust",category:"Precious Metals",riskLevel:"Medium",expenseRatio:"0.25%",description:"Lower-cost alternative gold exposure",trackingInfo:"London Gold AM Fix Price",priority:"ALTERNATIVE"},{symbol:"PDBC",name:"Invesco Optimum Yield Diversified Commodity Strategy",category:"Commodities",riskLevel:"Medium",expenseRatio:"0.59%",description:"Diversified commodity exposure with gold allocation",trackingInfo:"Diversified Commodity Index",priority:"SECONDARY"}]},treasury_curve:{strategyName:"Treasury Curve Signal",description:"Based on 10Y vs 30Y Treasury performance - yield curve steepening/flattening indicator",riskOnETFs:[{symbol:"SPY",name:"SPDR S&P 500 ETF Trust",category:"Large Cap Equity",riskLevel:"Medium",expenseRatio:"0.09%",description:"Benefits from steepening yield curve environment",trackingInfo:"S&P 500 Index",priority:"PRIMARY"},{symbol:"XLF",name:"Financial Select Sector SPDR Fund",category:"Financials",riskLevel:"Medium",expenseRatio:"0.12%",description:"Banks benefit from steeper yield curves",trackingInfo:"Financial Select Sector Index",priority:"PRIMARY"},{symbol:"IWM",name:"iShares Russell 2000 ETF",category:"Small Cap",riskLevel:"High",expenseRatio:"0.19%",description:"Small caps benefit from economic growth signaled by steepening",trackingInfo:"Russell 2000 Index",priority:"SECONDARY"}],riskOffETFs:[{symbol:"TLT",name:"iShares 20+ Year Treasury Bond ETF",category:"Long Duration",riskLevel:"Medium",expenseRatio:"0.15%",description:"Benefits from flattening yield curve and flight to quality",trackingInfo:"ICE U.S. Treasury 20+ Year Bond Index",priority:"PRIMARY"},{symbol:"IEF",name:"iShares 7-10 Year Treasury Bond ETF",category:"Intermediate Duration",riskLevel:"Low",expenseRatio:"0.15%",description:"Intermediate duration Treasury exposure",trackingInfo:"ICE U.S. Treasury 7-10 Year Bond Index",priority:"SECONDARY"},{symbol:"VGIT",name:"Vanguard Intermediate-Term Treasury ETF",category:"Intermediate Duration",riskLevel:"Low",expenseRatio:"0.04%",description:"Low-cost intermediate Treasury exposure",trackingInfo:"Bloomberg U.S. Treasury 3-10 Year Index",priority:"ALTERNATIVE"}]},vix_defensive:{strategyName:"VIX Defensive Signal",description:"Counter-intuitive positioning: Low VIX = Defensive, High VIX = Normal allocation",riskOnETFs:[{symbol:"SPY",name:"SPDR S&P 500 ETF Trust",category:"Large Cap",riskLevel:"Medium",expenseRatio:"0.09%",description:"Normal equity allocation when volatility is elevated",trackingInfo:"S&P 500 Index",priority:"PRIMARY"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",category:"Total Market",riskLevel:"Medium",expenseRatio:"0.03%",description:"Broad market exposure during normal volatility periods",trackingInfo:"CRSP US Total Market Index",priority:"SECONDARY"},{symbol:"MTUM",name:"iShares MSCI USA Momentum Factor ETF",category:"Factor",riskLevel:"Medium",expenseRatio:"0.15%",description:"Momentum factor exposure when volatility normalizes",trackingInfo:"MSCI USA Momentum Index",priority:"ALTERNATIVE"}],riskOffETFs:[{symbol:"SPLV",name:"Invesco S&P 500 Low Volatility ETF",category:"Low Volatility",riskLevel:"Low",expenseRatio:"0.25%",description:"Defensive positioning when VIX is too low (complacency)",trackingInfo:"S&P 500 Low Volatility Index",priority:"PRIMARY"},{symbol:"USMV",name:"iShares MSCI USA Min Vol Factor ETF",category:"Min Volatility",riskLevel:"Low",expenseRatio:"0.15%",description:"Minimum volatility factor exposure",trackingInfo:"MSCI USA Minimum Volatility Index",priority:"PRIMARY"},{symbol:"QUAL",name:"iShares MSCI USA Quality Factor ETF",category:"Quality",riskLevel:"Low",expenseRatio:"0.15%",description:"High-quality companies for defensive positioning",trackingInfo:"MSCI USA Sector Neutral Quality Index",priority:"SECONDARY"}]},sp500_ma:{strategyName:"S&P 500 Moving Average Signal",description:"Trend-following based on 50-day and 200-day moving averages",riskOnETFs:[{symbol:"SPY",name:"SPDR S&P 500 ETF Trust",category:"Large Cap",riskLevel:"Medium",expenseRatio:"0.09%",description:"Primary exposure when trend is positive",trackingInfo:"S&P 500 Index",priority:"PRIMARY"},{symbol:"QQQ",name:"Invesco QQQ Trust",category:"Technology",riskLevel:"Medium",expenseRatio:"0.20%",description:"Growth exposure during uptrends",trackingInfo:"Nasdaq-100 Index",priority:"PRIMARY"},{symbol:"MTUM",name:"iShares MSCI USA Momentum Factor ETF",category:"Momentum",riskLevel:"Medium",expenseRatio:"0.15%",description:"Momentum factor during trend continuation",trackingInfo:"MSCI USA Momentum Index",priority:"SECONDARY"}],riskOffETFs:[{symbol:"SHY",name:"iShares 1-3 Year Treasury Bond ETF",category:"Short Duration",riskLevel:"Very Low",expenseRatio:"0.15%",description:"Cash-like exposure during downtrends",trackingInfo:"ICE U.S. Treasury 1-3 Year Bond Index",priority:"PRIMARY"},{symbol:"SPLV",name:"Invesco S&P 500 Low Volatility ETF",category:"Low Volatility",riskLevel:"Low",expenseRatio:"0.25%",description:"Defensive equity exposure during bear markets",trackingInfo:"S&P 500 Low Volatility Index",priority:"SECONDARY"},{symbol:"GLD",name:"SPDR Gold Trust",category:"Precious Metals",riskLevel:"Medium",expenseRatio:"0.40%",description:"Safe haven asset during market stress",trackingInfo:"London Gold PM Fix Price",priority:"ALTERNATIVE"}]}},S=(0,s(91039).default)(()=>Promise.all([s.e(623),s.e(466)]).then(s.bind(s,2466)),{loadableGenerated:{webpack:()=>[2466]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"w-full h-96 flex items-center justify-center bg-theme-card-secondary border border-theme-border rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-theme-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-theme-text",children:"Loading Chart Component..."})]})})}),I=()=>{let e={};return Object.entries(k).forEach(t=>{var s;let[r,a]=t;e[(null==(s=k[r]||null)?void 0:s.strategyName)||r]=[...a.riskOnETFs.map(e=>({symbol:e.symbol,name:e.name,category:e.category,type:"Risk-On",strategy:r})),...a.riskOffETFs.map(e=>({symbol:e.symbol,name:e.name,category:e.category,type:"Risk-Off",strategy:r}))]}),e},T=[{id:"utilities_spy",name:"Utilities/SPY Ratio",description:"Measures relative performance of utilities versus broad market",category:"Sector Rotation"},{id:"lumber_gold",name:"Lumber/Gold Ratio",description:"Commodity ratio indicating economic growth expectations",category:"Commodity Analysis"},{id:"treasury_curve",name:"Treasury Yield Curve",description:"Yield curve shape and steepness as market regime indicator",category:"Interest Rates"},{id:"sp500_ma",name:"S&P 500 Moving Average",description:"S&P 500 relative to its moving average for trend analysis",category:"Technical Analysis"},{id:"vix_defensive",name:"VIX Defensive Signal",description:"VIX-based defensive positioning signal",category:"Volatility Analysis"}],R={utilities_spy:{name:"Utilities/SPY Ratio Signal",description:"This signal compares the performance of utility stocks (XLU) versus the broader S&P 500 (SPY) to identify market regime changes.",interpretation:{riskOn:"When SPY outperforms utilities, it suggests investors are comfortable taking risk and moving into growth-oriented sectors.",riskOff:"When utilities outperform SPY, it indicates investors are seeking defensive positions and dividend-yielding assets.",neutral:"When the ratio is stable, it suggests market indecision or transition between risk regimes."},calculation:"Ratio = (XLU Price / SPY Price) compared to historical moving averages and volatility bands.",significance:"Utilities are traditionally defensive assets that outperform during uncertain times, making this ratio a reliable regime indicator."},lumber_gold:{name:"Lumber/Gold Ratio Signal",description:"This commodity ratio reflects economic growth expectations by comparing industrial demand (lumber) versus safe-haven demand (gold).",interpretation:{riskOn:"Rising lumber/gold ratio suggests strong economic growth expectations and increased construction activity.",riskOff:"Falling lumber/gold ratio indicates economic uncertainty and flight to safe-haven assets like gold.",neutral:"Stable ratio suggests balanced economic outlook with neither strong growth nor recession fears."},calculation:"Ratio = (Lumber Futures Price / Gold Price) analyzed against historical percentiles and trend indicators.",significance:"This ratio captures the fundamental economic drivers of growth (infrastructure demand) versus fear (safe-haven demand)."},treasury_curve:{name:"Treasury Yield Curve Signal",description:"Analyzes the shape and steepness of the Treasury yield curve to predict economic cycles and market regimes.",interpretation:{riskOn:"Steep yield curve (long rates > short rates) suggests economic expansion and growth expectations.",riskOff:"Flat or inverted curve indicates economic slowdown concerns and potential recession risk.",neutral:"Normal curve steepness suggests stable economic conditions without strong directional bias."},calculation:"Spread between 10-year and 2-year Treasury yields, compared to historical distributions and recession indicators.",significance:"Yield curve inversion has historically preceded most U.S. recessions, making it a powerful economic indicator."},sp500_ma:{name:"S&P 500 Moving Average Signal",description:"Compares current S&P 500 level to its moving average to identify trend strength and potential reversals.",interpretation:{riskOn:"Price above moving average with positive momentum suggests strong uptrend and risk-taking environment.",riskOff:"Price below moving average with negative momentum indicates downtrend and risk-averse conditions.",neutral:"Price near moving average suggests consolidation phase and uncertain market direction."},calculation:"Current S&P 500 price relative to 50-day and 200-day moving averages, with momentum and volatility adjustments.",significance:"Moving averages are widely followed technical indicators that can become self-fulfilling as institutional flows follow these signals."},vix_defensive:{name:"VIX Defensive Signal",description:"Uses VIX (volatility index) levels and patterns to identify when defensive positioning is warranted.",interpretation:{riskOn:"Low VIX with declining trend suggests complacency and favorable conditions for risk assets.",riskOff:"High VIX or rapidly rising volatility indicates fear and need for defensive positioning.",neutral:"Moderate VIX levels suggest balanced risk environment without extreme fear or complacency."},calculation:"VIX level relative to historical percentiles, combined with VIX term structure and volatility-of-volatility measures.",significance:'VIX reflects market-implied volatility expectations and is often called the "fear gauge" of the market.'}};function M(){let{theme:e}=(0,N.D)(),{preferences:t,getSelectedETFs:s}=(0,w.H)(),l=()=>{let e=[];return Object.keys(t.strategies).forEach(t=>{s(t).forEach(s=>{e.push({symbol:s.symbol,allocation:s.allocation,strategy:t})})}),e},v=l(),k=v.map(e=>e.symbol),M=v.reduce((e,t)=>(e[t.symbol]=t.allocation,e),{}),[P,A]=(0,a.useState)({startDate:"2020-01-01",endDate:"2023-12-31",initialCash:1e5,commission:.001,symbols:k.length>0?k:["SPY","XLU"],allocations:M,signals:["utilities_spy"],timeframe:"1D",chartStyle:"candlestick",showVolume:!0,showSignals:!0,showDrawdown:!1});(0,a.useEffect)(()=>{let e=l(),t=e.map(e=>e.symbol),s=e.reduce((e,t)=>(e[t.symbol]=t.allocation,e),{});t.length>0&&A(e=>({...e,symbols:t,allocations:s}))},[t]);let[C,E]=(0,a.useState)(!1),[L,F]=(0,a.useState)(0),[D,O]=(0,a.useState)(null),[V,Y]=(0,a.useState)(null),[U,G]=(0,a.useState)("charts"),[X,_]=(0,a.useState)(null),B=e=>{A(t=>({...t,symbols:t.symbols.includes(e)?t.symbols.filter(t=>t!==e):[...t.symbols,e]}))},H=e=>{A(t=>({...t,signals:t.signals.includes(e)?t.signals.filter(t=>t!==e):[...t.signals,e]}))},W=async()=>{if(0===P.symbols.length)return void Y("Please select at least one symbol to analyze");if(0===P.signals.length)return void Y("Please select at least one signal to analyze");E(!0),F(0),Y(null);try{let e=setInterval(()=>{F(e=>Math.min(e+25,90))},200),t=await fetch("/api/backtrader",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(clearInterval(e),F(100),!t.ok){let e=await t.json();throw Error(e.error||"Analysis failed")}let s=await t.json();console.log("Backtrader analysis result:",s),console.log("Chart URL received:",s.chartUrl),O(s),G("charts")}catch(e){Y(e instanceof Error?e.message:"An error occurred during analysis")}finally{E(!1),F(0)}},Q=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),q=e=>"".concat((100*e).toFixed(2),"%"),z=e=>{let t=Math.abs(e);return t>.7?"text-theme-danger":t>.4?"text-theme-warning":t>.2?"text-theme-info":"text-theme-text-muted"},J=e=>{let t=Math.abs(e);return t>.7?"bg-theme-danger-bg border-theme-danger-border":t>.4?"bg-theme-warning-bg border-theme-warning-border":t>.2?"bg-theme-info-bg border-theme-info-border":"bg-theme-card-secondary border-theme-border"};return(0,r.jsx)("div",{className:"min-h-screen bg-theme-bg text-theme-text",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-theme-text",children:"Backtrader Analysis"})}),(0,r.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 bg-theme-card p-1 rounded-xl border border-theme-border overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>G("config"),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap touch-manipulation min-h-[44px] ".concat("config"===U?"bg-theme-primary text-white":"text-theme-text-muted hover:text-theme-text hover:bg-theme-card-hover"),children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Config"})]}),(0,r.jsxs)("button",{onClick:()=>G("charts"),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap touch-manipulation min-h-[44px] ".concat("charts"===U?"bg-theme-primary text-white":"text-theme-text-muted hover:text-theme-text hover:bg-theme-card-hover"),children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Charts"})]}),(0,r.jsxs)("button",{onClick:()=>G("performance"),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap touch-manipulation min-h-[44px] ".concat("performance"===U?"bg-theme-primary text-white":"text-theme-text-muted hover:text-theme-text hover:bg-theme-card-hover"),children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Performance"})]}),(0,r.jsxs)("button",{onClick:()=>G("correlations"),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap touch-manipulation min-h-[44px] ".concat("correlations"===U?"bg-theme-primary text-white":"text-theme-text-muted hover:text-theme-text hover:bg-theme-card-hover"),children:[(0,r.jsx)(c,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Correlations"})]}),(0,r.jsxs)("button",{onClick:()=>G("signals"),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap touch-manipulation min-h-[44px] ".concat("signals"===U?"bg-theme-primary text-white":"text-theme-text-muted hover:text-theme-text hover:bg-theme-card-hover"),children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Signals"})]})]})}),"config"===U&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Analysis Parameters"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"Start Date"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-theme-text-muted"}),(0,r.jsx)("input",{type:"date",value:P.startDate,onChange:e=>A(t=>({...t,startDate:e.target.value})),className:"w-full pl-10 pr-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"End Date"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-theme-text-muted"}),(0,r.jsx)("input",{type:"date",value:P.endDate,onChange:e=>A(t=>({...t,endDate:e.target.value})),className:"w-full pl-10 pr-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"Initial Cash"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-theme-text-muted"}),(0,r.jsx)("input",{type:"number",value:P.initialCash,onChange:e=>A(t=>({...t,initialCash:Number(e.target.value)})),className:"w-full pl-10 pr-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"Timeframe"}),(0,r.jsxs)("select",{value:P.timeframe,onChange:e=>A(t=>({...t,timeframe:e.target.value})),className:"w-full px-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary",children:[(0,r.jsx)("option",{value:"1D",children:"Daily"}),(0,r.jsx)("option",{value:"1W",children:"Weekly"}),(0,r.jsx)("option",{value:"1M",children:"Monthly"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text",children:"ETF & Index Selection"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[v.length>0&&(0,r.jsxs)(j(),{href:"/strategies",className:"px-3 py-1 text-sm bg-theme-success hover:bg-theme-success-hover text-white rounded-lg transition-colors",children:["View Portfolio (",v.length,")"]}),(0,r.jsxs)("span",{className:"text-sm text-theme-text-muted",children:[P.symbols.length," selected"]})]})]}),(0,r.jsx)("p",{className:"text-theme-text-muted mb-6",children:"Choose any combination of ETFs and indices for backtesting. ETFs are organized by their associated Gayed signals:"}),Object.entries(I()).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"mb-8 last:mb-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-theme-primary rounded-full"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-theme-text",children:t}),(0,r.jsxs)("span",{className:"text-sm text-theme-text-muted",children:["(",s.length," ETFs)"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:s.map(e=>{let t=P.symbols.includes(e.symbol),s=P.allocations[e.symbol]||0;return(0,r.jsxs)("div",{onClick:()=>B(e.symbol),className:"p-4 border rounded-xl cursor-pointer transition-all hover:shadow-md ".concat(t?"border-theme-primary bg-theme-primary-bg":"border-theme-border hover:border-theme-border-hover"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(t?"bg-theme-primary border-theme-primary":"border-theme-text-muted")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-theme-text",children:e.symbol}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Risk-On"===e.type?"bg-theme-success-bg text-theme-success":"bg-theme-danger-bg text-theme-danger"),children:e.type}),(0,r.jsx)("span",{className:"text-xs text-theme-info",children:e.category})]})]})]}),s>0&&(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-sm font-bold text-theme-primary",children:[s,"%"]}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Portfolio"})]})]}),(0,r.jsx)("p",{className:"text-sm text-theme-text-muted",children:e.name})]},e.symbol)})})]},t)}),(0,r.jsx)("div",{className:"mt-6 p-4 bg-theme-info-bg border border-theme-info-border rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 text-theme-info flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-theme-text-secondary",children:[(0,r.jsx)("p",{className:"font-medium text-theme-info mb-1",children:"Selection Guide"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Risk-On ETFs:"})," Perform well when the signal indicates growth/risk appetite"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Risk-Off ETFs:"})," Perform well when the signal indicates caution/defensive positioning"]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Portfolio %:"})," Shows your allocation from Strategy Dashboard (if any)"]}),(0,r.jsx)("p",{children:"• Select any combination across strategies for comprehensive backtesting"})]})]})]})})]}),(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Gayed Signal Selection"}),(0,r.jsx)("p",{className:"text-theme-text-muted mb-6",children:"Select which Gayed research signals to overlay on your charts:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(e=>(0,r.jsxs)("div",{onClick:()=>H(e.id),className:"p-4 border rounded-xl cursor-pointer transition-all hover:shadow-md ".concat(P.signals.includes(e.id)?"border-theme-success bg-theme-success-bg":"border-theme-border hover:border-theme-border-hover"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(P.signals.includes(e.id)?"bg-theme-success border-theme-success":"border-theme-text-muted")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-theme-text",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-theme-success",children:e.category})]})]}),(0,r.jsx)("p",{className:"text-sm text-theme-text-muted",children:e.description})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Chart Configuration"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"Chart Style"}),(0,r.jsxs)("select",{value:P.chartStyle,onChange:e=>A(t=>({...t,chartStyle:e.target.value})),className:"w-full px-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary",children:[(0,r.jsx)("option",{value:"candlestick",children:"Candlestick"}),(0,r.jsx)("option",{value:"ohlc",children:"OHLC Bars"}),(0,r.jsx)("option",{value:"line",children:"Line Chart"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-theme-text-secondary mb-2",children:"Commission Rate"}),(0,r.jsx)("input",{type:"number",step:"0.0001",value:P.commission,onChange:e=>A(t=>({...t,commission:Number(e.target.value)})),className:"w-full px-4 py-3 bg-theme-card-secondary border border-theme-border rounded-lg text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"showVolume",checked:P.showVolume,onChange:e=>A(t=>({...t,showVolume:e.target.checked})),className:"w-4 h-4 text-theme-primary bg-theme-card-secondary border-theme-border rounded focus:ring-theme-primary"}),(0,r.jsx)("label",{htmlFor:"showVolume",className:"text-theme-text",children:"Show Volume"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"showSignals",checked:P.showSignals,onChange:e=>A(t=>({...t,showSignals:e.target.checked})),className:"w-4 h-4 text-theme-primary bg-theme-card-secondary border-theme-border rounded focus:ring-theme-primary"}),(0,r.jsx)("label",{htmlFor:"showSignals",className:"text-theme-text",children:"Show Signal Markers"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"showDrawdown",checked:P.showDrawdown,onChange:e=>A(t=>({...t,showDrawdown:e.target.checked})),className:"w-4 h-4 text-theme-primary bg-theme-card-secondary border-theme-border rounded focus:ring-theme-primary"}),(0,r.jsx)("label",{htmlFor:"showDrawdown",className:"text-theme-text",children:"Show Drawdown Chart"})]})]})]})]}),"charts"===U&&(0,r.jsx)("div",{className:"space-y-8",children:P.symbols.length>0&&P.signals.length>0?(0,r.jsx)(S,{config:P}):(0,r.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-8 text-center",children:(0,r.jsxs)("div",{className:"text-theme-text-muted mb-4",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-theme-text mb-2",children:"Ready for Analysis"}),(0,r.jsx)("p",{className:"text-theme-text-muted",children:"Select ETFs and signals above to generate comprehensive backtesting charts with real market data."}),(0,r.jsx)("p",{className:"text-sm text-theme-text-light mt-2",children:"Choose any combination of ETFs across all 5 Gayed strategies for multi-strategy analysis."})]})})}),"performance"===U&&(0,r.jsx)("div",{className:"space-y-8",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Performance Metrics"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-success mb-1",children:q(D.performanceMetrics.totalReturn)}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Total Return"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-info mb-1",children:q(D.performanceMetrics.annualizedReturn)}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Annual Return"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-primary mb-1",children:D.performanceMetrics.sharpeRatio.toFixed(2)}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Sharpe Ratio"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-danger mb-1",children:q(D.performanceMetrics.maxDrawdown)}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Max Drawdown"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-warning mb-1",children:q(D.performanceMetrics.winRate)}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Win Rate"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-theme-text mb-1",children:D.performanceMetrics.totalTrades}),(0,r.jsx)("div",{className:"text-xs text-theme-text-muted",children:"Total Trades"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-theme-text mb-4",children:"Trade Statistics"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Average Winning Trade"}),(0,r.jsx)("span",{className:"text-theme-success font-medium",children:Q(D.performanceMetrics.avgWinningTrade)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Average Losing Trade"}),(0,r.jsx)("span",{className:"text-theme-danger font-medium",children:Q(D.performanceMetrics.avgLosingTrade)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Largest Win"}),(0,r.jsx)("span",{className:"text-theme-success font-medium",children:Q(D.performanceMetrics.largestWin)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Largest Loss"}),(0,r.jsx)("span",{className:"text-theme-danger font-medium",children:Q(D.performanceMetrics.largestLoss)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Profit Factor"}),(0,r.jsx)("span",{className:"text-theme-text font-medium",children:D.performanceMetrics.profitFactor.toFixed(2)})]})]})]}),(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-theme-text mb-4",children:"Risk Metrics"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Analysis Period"}),(0,r.jsxs)("span",{className:"text-theme-text font-medium",children:[Math.ceil((new Date(P.endDate).getTime()-new Date(P.startDate).getTime())/864e5)," days"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Execution Time"}),(0,r.jsxs)("span",{className:"text-theme-text font-medium",children:[D.executionTime.toFixed(2),"s"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Initial Capital"}),(0,r.jsx)("span",{className:"text-theme-text font-medium",children:Q(P.initialCash)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-theme-text-muted",children:"Commission Rate"}),(0,r.jsx)("span",{className:"text-theme-text font-medium",children:q(P.commission)})]})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)(o.A,{className:"w-16 h-16 text-theme-text-muted mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-theme-text-secondary mb-2",children:"No Performance Data"}),(0,r.jsx)("p",{className:"text-theme-text-muted",children:"Run an analysis to see detailed performance metrics and statistics"})]})}),"correlations"===U&&(0,r.jsx)("div",{className:"space-y-8",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Signal-Price Correlations"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.correlationMatrix.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 border rounded-xl ".concat(J(e.correlation)),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-theme-text",children:e.signal}),(0,r.jsx)("p",{className:"text-sm text-theme-text-muted",children:e.symbol})]}),(0,r.jsxs)("div",{className:"text-lg font-bold ".concat(z(e.correlation)),children:[e.correlation>0?"+":"",e.correlation.toFixed(3)]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-xs text-theme-text-light",children:["P-Value: ",e.pValue.toFixed(4)]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("High"===e.significance?"bg-theme-success-bg text-theme-success":"Medium"===e.significance?"bg-theme-warning-bg text-theme-warning":"Low"===e.significance?"bg-theme-info-bg text-theme-info":"bg-theme-card-secondary text-theme-text-muted"),children:e.significance})]})]},t))})]}),(0,r.jsx)("div",{className:"bg-theme-info-bg border border-theme-info-border rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(h.A,{className:"w-6 h-6 text-theme-info flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-theme-info mb-3",children:"Understanding Correlations"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-theme-text-secondary",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Strong Positive (+0.7 to +1.0):"})," Signal and price move together strongly"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Moderate Positive (+0.4 to +0.7):"})," Signal and price tend to move together"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Weak Positive (+0.2 to +0.4):"})," Signal and price sometimes move together"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Strong Negative (-0.7 to -1.0):"})," Signal and price move in opposite directions"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"Moderate Negative (-0.4 to -0.7):"})," Signal and price tend to move opposite"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"No Correlation (-0.2 to +0.2):"})," No meaningful relationship"]})]})]})]})]})})]}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)(c,{className:"w-16 h-16 text-theme-text-muted mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-theme-text-secondary mb-2",children:"No Correlation Data"}),(0,r.jsx)("p",{className:"text-theme-text-muted",children:"Run an analysis to see how signals correlate with price movements"})]})}),"signals"===U&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-theme-text mb-6",children:"Gayed Signal Guide"}),(0,r.jsx)("p",{className:"text-theme-text-muted mb-6",children:"Understanding Michael Gayed's market regime signals and their interpretations:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:P.signals.map(e=>{let t=R[e];return t?(0,r.jsxs)("div",{className:"border border-theme-border rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-theme-primary-bg rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"w-6 h-6 text-theme-primary"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-theme-text mb-2",children:t.name}),(0,r.jsx)("p",{className:"text-theme-text-muted",children:t.description})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-theme-success-bg border border-theme-success-border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 text-theme-success"}),(0,r.jsx)("span",{className:"font-semibold text-theme-success",children:"Risk-On Signal"})]}),(0,r.jsx)("p",{className:"text-sm text-theme-text-secondary",children:t.interpretation.riskOn})]}),(0,r.jsxs)("div",{className:"bg-theme-danger-bg border border-theme-danger-border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 text-theme-danger"}),(0,r.jsx)("span",{className:"font-semibold text-theme-danger",children:"Risk-Off Signal"})]}),(0,r.jsx)("p",{className:"text-sm text-theme-text-secondary",children:t.interpretation.riskOff})]}),(0,r.jsxs)("div",{className:"bg-theme-warning-bg border border-theme-warning-border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)(p,{className:"w-4 h-4 text-theme-warning"}),(0,r.jsx)("span",{className:"font-semibold text-theme-warning",children:"Neutral Signal"})]}),(0,r.jsx)("p",{className:"text-sm text-theme-text-secondary",children:t.interpretation.neutral})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-theme-text mb-2",children:"How It's Calculated"}),(0,r.jsx)("p",{className:"text-sm text-theme-text-muted",children:t.calculation})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-theme-text mb-2",children:"Why It Matters"}),(0,r.jsx)("p",{className:"text-sm text-theme-text-muted",children:t.significance})]})]})]},e):null})})]}),(0,r.jsx)("div",{className:"bg-theme-warning-bg border border-theme-warning-border rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(u.A,{className:"w-6 h-6 text-theme-warning flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-theme-warning mb-3",children:"Important Disclaimers"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-theme-text-secondary",children:[(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Educational Purpose:"})," This analysis tool is for educational and research purposes only."]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"No Investment Advice:"})," Signal interpretations do not constitute investment recommendations."]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Past Performance:"})," Historical signal accuracy does not guarantee future performance."]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Risk Warning:"})," All investments carry risk of loss. Consult qualified professionals before investing."]}),(0,r.jsxs)("p",{children:["• ",(0,r.jsx)("strong",{children:"Market Complexity:"})," Market regimes are influenced by many factors beyond these signals."]})]})]})]})})]}),(0,r.jsx)("div",{className:"sticky bottom-4 sm:bottom-6 bg-theme-card border border-theme-border rounded-xl p-4 sm:p-6 shadow-lg mx-4 sm:mx-0",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[V&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-theme-danger",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm",children:V})]}),C&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin text-theme-primary"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm text-theme-text-secondary",children:"Running analysis..."}),(0,r.jsx)("div",{className:"w-24 sm:w-32 bg-theme-bg-secondary rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-theme-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(L,"%")}})}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm text-theme-text-muted",children:[L,"%"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-theme-text-muted text-center sm:text-left",children:[P.symbols.length," symbol",1!==P.symbols.length?"s":""," • ",P.signals.length," signal",1!==P.signals.length?"s":"",Object.keys(P.allocations).length>0&&(0,r.jsx)("span",{className:"block sm:inline sm:ml-2 mt-1 sm:mt-0 px-2 py-1 bg-theme-primary-bg text-theme-primary rounded text-xs",children:"Portfolio Allocations"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[D&&(0,r.jsxs)("button",{onClick:()=>{if(!D)return;let e=new Blob([JSON.stringify({config:P,results:D,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="backtrader-analysis-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-theme-card-secondary hover:bg-theme-card-hover text-theme-text border border-theme-border rounded-lg transition-colors flex items-center justify-center space-x-2 touch-manipulation min-h-[44px]",children:[(0,r.jsx)(b.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Export"})]}),(0,r.jsx)("button",{onClick:W,disabled:C||0===P.symbols.length||0===P.signals.length,className:"flex-1 sm:flex-none px-4 sm:px-6 py-3 bg-theme-primary hover:bg-theme-primary-hover disabled:bg-theme-text-muted disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center space-x-2 touch-manipulation min-h-[44px]",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Analyzing..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"Run Analysis"})]})})]})]})]})})]})})}},99966:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(98889).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[350,829,587,315,358],()=>t(1812)),_N_E=e.O()}]);