(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{3762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>es});var a=s(54568),r=s(7620),l=s(40731),i=s(82055),n=s(66734),o=s(93385),d=s(72187),c=s(22935),m=s(3991),h=s(2341),x=s(44057),u=s(40368),g=s(61904),p=s(58503),b=s(13444),f=s(24508),y=s(77603),v=s(85958),j=s(58130),N=s(79531),w=s(2970);let k=()=>{let e=getComputedStyle(document.documentElement),t=(t,s)=>e.getPropertyValue(t).trim()||s;return{primary:t("--theme-primary","#8B5CF6"),secondary:t("--theme-primary-light","#A78BFA"),success:t("--theme-success","#10B981"),danger:t("--theme-danger","#F87171"),warning:t("--theme-warning","#FBBF24"),info:t("--theme-info","#60A5FA"),accent:t("--theme-accent","#8B5CF6"),text:t("--theme-text","#FFFFFF"),textSecondary:t("--theme-text-secondary","#E2E8F0"),textMuted:t("--theme-text-muted","#94A3B8"),textLight:t("--theme-text-light","#64748B"),border:t("--theme-border","rgba(255,255,255,0.1)"),card:t("--theme-card","#1A1A1A"),bg:t("--theme-bg","#0A0A0A"),grid:t("--theme-grid","rgba(139, 92, 246, 0.08)")}},C=()=>{let[e,t]=(0,r.useState)(k);return(0,r.useEffect)(()=>{let e=()=>{t(k())};e();let s=new MutationObserver(t=>{t.forEach(t=>{"attributes"===t.type&&("class"===t.attributeName||"data-theme"===t.attributeName)&&e()})});s.observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-theme"]});let a=()=>e();return window.addEventListener("themechange",a),()=>{s.disconnect(),window.removeEventListener("themechange",a)}},[]),e};function S(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";try{if("string"==typeof e)t=new Date(e.includes("T")?e:"".concat(e,"T00:00:00.000Z"));else if("number"==typeof e)t=new Date(e);else if(e instanceof Date)t=e;else throw Error("Invalid date input");if(isNaN(t.getTime()))throw Error("Invalid date value")}catch(t){return console.warn("Date formatting error:",t,"Input:",e),"Invalid Date"}switch(s){case"iso":return t.toISOString().split("T")[0];case"chart":return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"});case"display":return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});case"short":return t.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"});case"long":return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"api":return t.toISOString();default:return t.toLocaleDateString("en-US")}}var A=s(84666);function D(e){let{children:t,height:s=400,className:l="",loading:i=!1,error:n,title:o,description:d}=e,[c,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{m(!0)},[]),i)?(0,a.jsx)("div",{className:"chart-loading ".concat(l),style:{height:s,minHeight:s},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(A.A,{message:"Loading chart...",size:"md"})})}):n?(0,a.jsx)("div",{className:"chart-error ".concat(l),style:{height:s,minHeight:s},children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,a.jsx)("div",{className:"text-theme-danger text-2xl mb-2",children:"⚠"}),(0,a.jsx)("div",{className:"text-theme-danger font-medium mb-1",children:"Chart Error"}),(0,a.jsx)("div",{className:"text-theme-text-muted text-sm max-w-md",children:n})]})}):c?(0,a.jsxs)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-6 ".concat(l),style:{overflow:"visible"},children:[(o||d)&&(0,a.jsxs)("div",{className:"mb-4",children:[o&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-theme-text mb-1",children:o}),d&&(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:d})]}),(0,a.jsx)("div",{className:"chart-container relative",style:{height:"auto",minHeight:"800px",width:"100%",overflow:"visible"},children:(0,a.jsx)("div",{className:"chart-responsive-wrapper h-full w-full",style:{height:"auto",minHeight:"800px",overflow:"visible"},children:t})})]}):(0,a.jsx)("div",{className:"chart-loading ".concat(l),style:{height:s,minHeight:s},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(A.A,{message:"Initializing chart...",size:"md"})})})}var M=s(42260),I=s(83957),_=s(38573),F=s(30149),E=s(34503),P=s(17296),R=s(45155),q=s(71402),W=s(7110),H=s(57617),L=s(40799);let Y={duration:300,easing:"ease-in-out"},T={daily:"#10B981",weekly:"#3B82F6",monthly:"#F59E0B",quarterly:"#EF4444",annual:"#8B5CF6"},K={daily:"Daily",weekly:"Weekly",monthly:"Monthly",quarterly:"Quarterly",annual:"Annual"};function U(e){let{data:t,seriesConfig:s,loading:l=!1,error:i,height:n=500,title:o="Economic Data Analysis",onSeriesToggle:d,onSeriesFocus:c,onTimeRangeChange:h,selectedTimeRange:k,showBrush:A=!0,allowMultipleYAxes:U=!0}=e,[B,O]=(0,r.useState)("line"),[z,V]=(0,r.useState)("overview"),[Q,G]=(0,r.useState)(!1),[J,X]=(0,r.useState)(s),[Z,$]=(0,r.useState)(null),[ee,et]=(0,r.useState)(1),[es,ea]=(0,r.useState)(!1),er=C();(0,r.useEffect)(()=>{G(!0)},[]),(0,r.useEffect)(()=>{X(s)},[s]);let el=(0,r.useMemo)(()=>J.filter(e=>e.visible),[J]),ei=(0,r.useMemo)(()=>J.filter(e=>e.focused),[J]),en=(0,r.useMemo)(()=>{let e={};return J.forEach(t=>{e[t.frequency]||(e[t.frequency]=[]),e[t.frequency].push(t)}),e},[J]),eo=(0,r.useMemo)(()=>{switch(z){case"focused":return ei.length>0?ei:el;case"comparison":return el.filter(e=>{var t;return e.category===(null==(t=ei[0])?void 0:t.category)||0===ei.length});default:return el}},[z,el,ei]),ed=(0,r.useMemo)(()=>k?t.filter(e=>{let t=new Date(e.date),s=new Date(k[0]),a=new Date(k[1]);return t>=s&&t<=a}):t,[t,k]),ec=(0,r.useCallback)(e=>{X(t=>t.map(t=>t.id===e?{...t,visible:!t.visible}:t))},[]),em=(0,r.useCallback)(e=>{X(t=>t.map(t=>({...t,focused:t.id===e&&!t.focused})))},[]),eh=(0,r.useCallback)(()=>{X(e=>e.map(e=>({...e,visible:!0,focused:!1}))),V("overview"),et(1)},[]),ex=(0,r.useCallback)(e=>{let{active:t,payload:s,label:r}=e;if(!t||!(null==s?void 0:s.length))return null;let l=s.filter(e=>eo.some(t=>t.dataKey===e.dataKey));return(0,a.jsxs)("div",{className:"bg-theme-card backdrop-blur-sm border border-theme-border rounded-xl p-4 shadow-xl max-w-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 border-b border-theme-border pb-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("p",{className:"font-semibold text-theme-text",children:S(r,"long")})]}),(0,a.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>{let s=J.find(t=>t.dataKey===e.dataKey);return s?(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-theme-card shadow-sm",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text-muted",children:s.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-theme-text",children:"number"==typeof e.value?e.value.toLocaleString():e.value}),(0,a.jsx)("span",{className:"text-xs text-theme-text-muted ml-1",children:s.unit})]})]},t):null})}),l.length>1&&(0,a.jsx)("div",{className:"mt-3 pt-2 border-t border-theme-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-theme-text-muted",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Click series to focus • Double-click to isolate"})]})})]})},[eo,J,S]),eu=(0,r.useCallback)(()=>{if(!Q||0===ed.length)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",style:{height:"700px",minHeight:"700px",overflow:"visible"},children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-theme-text-light"}),(0,a.jsx)("span",{className:"text-theme-text-muted font-medium",children:"No data available"}),(0,a.jsx)("span",{className:"text-sm text-theme-text-light",children:"Try adjusting your time range or series selection"})]});let e="area"===B?M.Q:"composed"===B?I.X:_.b;return(0,a.jsx)(F.u,{width:"100%",height:"100%",aspect:2,children:(0,a.jsxs)(e,{data:ed,margin:{top:20,right:30,left:20,bottom:A?60:20},children:[(0,a.jsx)(E.d,{strokeDasharray:"3 3",stroke:er.grid,opacity:.3}),(0,a.jsx)(P.W,{dataKey:"date",tick:{fontSize:11,fill:er.textMuted},tickFormatter:e=>S(e,"chart"),stroke:er.textMuted,strokeWidth:.5}),U?eo.map((e,t)=>(0,a.jsx)(R.h,{yAxisId:e.yAxisId||e.id,orientation:t%2==0?"left":"right",tick:{fontSize:10,fill:e.color},stroke:e.color,strokeWidth:.5,domain:["dataMin - 5%","dataMax + 5%"],hide:eo.length>4},"yaxis-".concat(e.id))):(0,a.jsx)(R.h,{tick:{fontSize:11,fill:er.textMuted},stroke:er.textMuted,strokeWidth:.5,domain:["dataMin - 5%","dataMax + 5%"]}),(0,a.jsx)(q.m,{content:(0,a.jsx)(ex,{})}),eo.map(e=>{let t=Z===e.id,s=e.focused,r="focused"!==z||s?1:.2;return"area"===B?(0,a.jsx)(W.G,{yAxisId:U?e.yAxisId||e.id:void 0,type:"monotone",dataKey:e.dataKey,stroke:e.color,strokeWidth:s?3:t?2.5:e.strokeWidth||2,strokeDasharray:e.strokeDashArray,fill:"".concat(e.color,"30"),fillOpacity:(e.fillOpacity||.3)*r,dot:!!e.showDots&&{r:2,fill:e.color},activeDot:{r:s?6:4,stroke:e.color,strokeWidth:2,fill:"var(--theme-card)"},strokeOpacity:r},e.id):(0,a.jsx)(H.N,{yAxisId:U?e.yAxisId||e.id:void 0,type:"monotone",dataKey:e.dataKey,stroke:e.color,strokeWidth:s?3:t?2.5:e.strokeWidth||2,strokeDasharray:e.strokeDashArray,fill:"none",dot:!!e.showDots&&{r:2,fill:e.color},activeDot:{r:s?6:4,stroke:e.color,strokeWidth:2,fill:"var(--theme-card)",filter:s?"drop-shadow(0 2px 4px rgba(0,0,0,0.2))":"none"},opacity:r,onMouseEnter:()=>$(e.id),onMouseLeave:()=>$(null),onClick:()=>em(e.id),style:{cursor:"pointer",transition:"all ".concat(Y.duration,"ms ").concat(Y.easing)}},e.id)}),A&&(0,a.jsx)(L.v,{dataKey:"date",height:30,stroke:er.primary,fill:"".concat(er.primary,"10"),tickFormatter:e=>S(e,"short"),onChange:e=>{if((null==e?void 0:e.startIndex)!==void 0&&(null==e?void 0:e.endIndex)!==void 0){var t,s;let a=null==(t=ed[e.startIndex])?void 0:t.date,r=null==(s=ed[e.endIndex])?void 0:s.date;a&&r&&(null==h||h([a,r]))}}})]})})},[Q,ed,B,A,er,U,eo,Z,z,h,S]);return(0,a.jsxs)(D,{height:n,loading:l,error:i,title:o,description:"Interactive economic data visualization with dynamic series selection",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex bg-theme-bg-tertiary border border-theme-border rounded-lg p-1",children:[(0,a.jsxs)("button",{onClick:()=>O("line"),className:"flex items-center gap-1 px-3 py-1.5 text-sm rounded transition-all ".concat("line"===B?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),title:"Line Chart",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),"Line"]}),(0,a.jsxs)("button",{onClick:()=>O("area"),className:"flex items-center gap-1 px-3 py-1.5 text-sm rounded transition-all ".concat("area"===B?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),title:"Area Chart",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Area"]}),(0,a.jsxs)("button",{onClick:()=>O("composed"),className:"flex items-center gap-1 px-3 py-1.5 text-sm rounded transition-all ".concat("composed"===B?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),title:"Composed Chart",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Mixed"]})]})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex bg-theme-bg-tertiary border border-theme-border rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>V("overview"),className:"px-3 py-1.5 text-sm rounded transition-all ".concat("overview"===z?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),children:"Overview"}),(0,a.jsx)("button",{onClick:()=>V("focused"),className:"px-3 py-1.5 text-sm rounded transition-all ".concat("focused"===z?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),children:"Focused"}),(0,a.jsx)("button",{onClick:()=>V("comparison"),className:"px-3 py-1.5 text-sm rounded transition-all ".concat("comparison"===z?"bg-theme-card text-theme-primary shadow-sm":"text-theme-text-muted hover:text-theme-text"),children:"Compare"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,a.jsxs)("button",{onClick:eh,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-theme-text-muted hover:text-theme-text bg-theme-bg-tertiary hover:bg-gray-100 border border-theme-border rounded-lg transition-all",title:"Reset View",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),"Reset"]}),(0,a.jsxs)("button",{onClick:()=>ea(!es),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-theme-border rounded-lg transition-all ".concat(es?"bg-blue-50 text-blue-600 border-blue-200":"text-theme-text-muted hover:text-theme-text bg-theme-bg-tertiary hover:bg-gray-100"),title:"Chart Settings",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),"Settings"]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text-muted",children:"Data Series"}),(0,a.jsxs)("span",{className:"text-xs text-theme-text-muted",children:["(",eo.length," of ",J.length," visible)"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(en).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"bg-theme-bg-tertiary rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:T[t]}}),(0,a.jsxs)("span",{className:"text-xs font-medium text-theme-text-muted uppercase tracking-wide",children:[K[t]," Data"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md border transition-all cursor-pointer ".concat(e.visible?e.focused?"bg-blue-50 border-blue-200 shadow-sm":"bg-theme-card border-theme-border hover:border-theme-border-hover":"bg-gray-100 border-theme-border opacity-60"),onClick:()=>ec(e.id),onDoubleClick:()=>em(e.id),title:"".concat(e.description," • Click to toggle • Double-click to focus"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),ec(e.id)},className:"shrink-0",children:e.visible?(0,a.jsx)(v.A,{className:"w-4 h-4 text-theme-text-muted"}):(0,a.jsx)(j.A,{className:"w-4 h-4 text-theme-text-light"})}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full border border-theme-card shadow-sm shrink-0",style:{backgroundColor:e.color}}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text truncate block",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-theme-text-muted",children:e.unit})]})]}),e.focused&&(0,a.jsx)(y.A,{className:"w-3 h-3 text-blue-600 shrink-0"})]},e.id))})]},t)})})]}),(0,a.jsxs)("div",{className:"relative",style:{overflow:"visible"},children:[(0,a.jsx)("div",{className:"h-full w-full",style:{height:"auto",minHeight:"700px",overflow:"visible"},children:eu()}),1!==ee&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-1 bg-theme-card backdrop-blur-sm border border-theme-border rounded-lg p-2",children:[(0,a.jsx)("button",{onClick:()=>et(e=>Math.max(.5,e-.25)),className:"p-1 hover:bg-gray-100 rounded",title:"Zoom Out",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-theme-text-muted"})}),(0,a.jsxs)("span",{className:"text-xs text-theme-text-muted px-2",children:[Math.round(100*ee),"%"]}),(0,a.jsx)("button",{onClick:()=>et(e=>Math.min(3,e+.25)),className:"p-1 hover:bg-gray-100 rounded",title:"Zoom In",children:(0,a.jsx)(w.A,{className:"w-4 h-4 text-theme-text-muted"})})]})]}),(0,a.jsx)("div",{className:"mt-4 text-xs text-theme-text-muted bg-theme-bg-tertiary rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-2",children:[(0,a.jsxs)("div",{children:["Interactive economic data from Federal Reserve Economic Data (FRED) •",eo.length>0&&(0,a.jsxs)("span",{className:"ml-1",children:["Showing ",eo.length," series spanning ",eo.map(e=>e.frequency).join(", ")," frequencies"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{children:["Last updated: ",S(new Date().toISOString(),"short")]}),ei.length>0&&(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[ei.length," series focused"]})]})]})}),es&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-theme-text",children:"Chart Settings"}),(0,a.jsx)("button",{onClick:()=>ea(!1),className:"text-theme-text-light hover:text-theme-text-muted",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-theme-text-muted mb-2",children:"Multiple Y-Axes"}),(0,a.jsx)("button",{onClick:()=>{},className:"w-full text-left p-3 rounded-lg border ".concat(U?"bg-blue-50 border-blue-200 text-blue-900":"bg-theme-bg-tertiary border-theme-border text-theme-text-muted"),children:U?"Enabled":"Disabled"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-theme-text-muted mb-2",children:"Time Range Brush"}),(0,a.jsx)("button",{onClick:()=>{},className:"w-full text-left p-3 rounded-lg border ".concat(A?"bg-blue-50 border-blue-200 text-blue-900":"bg-theme-bg-tertiary border-theme-border text-theme-text-muted"),children:A?"Enabled":"Disabled"})]})]})]})})})]})}let B=[{id:"case_shiller",name:"Case-Shiller Index",dataKey:"caseSillerIndex",color:"#3B82F6",frequency:"monthly",category:"housing",unit:"Index",description:"S&P/Case-Shiller U.S. National Home Price Index",yAxisId:"price_index",strokeWidth:2.5,showDots:!1},{id:"housing_starts",name:"Housing Starts",dataKey:"housingStarts",color:"#10B981",frequency:"monthly",category:"housing",unit:"Thousands",description:"New Privately Owned Housing Units Started",yAxisId:"housing_units",strokeWidth:2,showDots:!0},{id:"months_supply",name:"Months Supply",dataKey:"monthsSupply",color:"#F59E0B",frequency:"monthly",category:"housing",unit:"Months",description:"Months Supply of Houses for Sale",yAxisId:"months",strokeWidth:2,strokeDashArray:"5 5"},{id:"new_home_sales",name:"New Home Sales",dataKey:"newHomeSales",color:"#EF4444",frequency:"monthly",category:"housing",unit:"Thousands",description:"New One Family Houses Sold",yAxisId:"housing_units",strokeWidth:2,showDots:!0},{id:"existing_home_sales",name:"Existing Home Sales",dataKey:"existingHomeSales",color:"#8B5CF6",frequency:"monthly",category:"housing",unit:"Millions",description:"Existing Home Sales Rate",yAxisId:"housing_units",strokeWidth:2},{id:"housing_permits",name:"Building Permits",dataKey:"housingPermits",color:"#06B6D4",frequency:"monthly",category:"housing",unit:"Thousands",description:"New Private Housing Units Authorized",yAxisId:"housing_units",strokeWidth:1.5,strokeDashArray:"3 3"},{id:"mortgage_rates",name:"30-Year Mortgage Rate",dataKey:"mortgageRates",color:"#DC2626",frequency:"weekly",category:"housing",unit:"%",description:"30-Year Fixed Rate Mortgage Average",yAxisId:"percentage",strokeWidth:2.5},{id:"house_price_index",name:"House Price Index",dataKey:"housePriceIndex",color:"#7C3AED",frequency:"quarterly",category:"housing",unit:"Index",description:"All-Transactions House Price Index",yAxisId:"price_index",strokeWidth:2,strokeDashArray:"8 4"}],O=[{id:"unemployment_rate",name:"Unemployment Rate",dataKey:"unemploymentRate",color:"#EF4444",frequency:"monthly",category:"labor",unit:"%",description:"Unemployment Rate - Seasonally Adjusted",yAxisId:"percentage",strokeWidth:3,showDots:!0},{id:"nonfarm_payrolls",name:"Nonfarm Payrolls",dataKey:"nonfarmPayrolls",color:"#10B981",frequency:"monthly",category:"labor",unit:"Thousands",description:"All Employees: Total Nonfarm Payrolls",yAxisId:"employment",strokeWidth:2.5,showDots:!0},{id:"initial_claims",name:"Initial Claims",dataKey:"initialClaims",color:"#F59E0B",frequency:"weekly",category:"labor",unit:"Claims",description:"Initial Claims for Unemployment Insurance",yAxisId:"claims",strokeWidth:2,showDots:!1},{id:"continued_claims",name:"Continued Claims",dataKey:"continuedClaims",color:"#F97316",frequency:"weekly",category:"labor",unit:"Claims",description:"Continued Claims for Unemployment Insurance",yAxisId:"claims",strokeWidth:2,strokeDashArray:"4 4"},{id:"claims_4wk_avg",name:"4-Week Claims Average",dataKey:"claims4Week",color:"#DC2626",frequency:"weekly",category:"labor",unit:"Claims",description:"4-Week Moving Average of Initial Claims",yAxisId:"claims",strokeWidth:1.5,strokeDashArray:"6 2"},{id:"labor_participation",name:"Labor Participation",dataKey:"laborParticipation",color:"#3B82F6",frequency:"monthly",category:"labor",unit:"%",description:"Labor Force Participation Rate",yAxisId:"percentage",strokeWidth:2,showDots:!0},{id:"employment_population",name:"Employment-Population Ratio",dataKey:"employmentPopulation",color:"#06B6D4",frequency:"monthly",category:"labor",unit:"%",description:"Employment-Population Ratio",yAxisId:"percentage",strokeWidth:2},{id:"unemployed",name:"Unemployed Persons",dataKey:"unemployed",color:"#8B5CF6",frequency:"monthly",category:"labor",unit:"Thousands",description:"Number of Unemployed Persons",yAxisId:"employment",strokeWidth:1.5,strokeDashArray:"5 3"},{id:"job_openings",name:"Job Openings",dataKey:"jobOpenings",color:"#059669",frequency:"monthly",category:"labor",unit:"Thousands",description:"Job Openings: Total Nonfarm",yAxisId:"employment",strokeWidth:2,showDots:!0},{id:"quits_rate",name:"Quits Rate",dataKey:"quitsRate",color:"#7C3AED",frequency:"monthly",category:"labor",unit:"%",description:"Quits: Total Nonfarm Rate",yAxisId:"percentage",strokeWidth:1.5,strokeDashArray:"7 3"}];function z(){let{category:e="all",defaultVisibleSeries:t=[],autoSelectFrequency:s=!0,initialPeriod:a="12m"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,i]=(0,r.useState)({data:[],seriesConfig:[],loading:!1,error:null,lastUpdated:null,currentPeriod:a}),n=(0,r.useMemo)(()=>t.sort().join(","),[t]),o=(0,r.useMemo)(()=>{let a=[];switch(e){case"housing":a=B;break;case"labor":a=O;break;default:a=[...B,...O]}return a.map(e=>({...e,visible:t.length>0?t.includes(e.id):!s||"monthly"===e.frequency||"weekly"===e.frequency,focused:!1}))},[e,n,s]);(0,r.useEffect)(()=>{i(e=>({...e,seriesConfig:o}))},[o]);let d=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:365,t=[],s=new Date;s.setHours(0,0,0,0);let a=new Date(s);a.setDate(a.getDate()-e);for(let s=0;s<e;s++){let e=new Date(a);e.setDate(a.getDate()+s);let r={date:e.toISOString().split("T")[0]},l=(Math.sin(12345*s)+1)/2;r.caseSillerIndex=280+20*Math.sin(s/30)+(l-.5)*10,r.housingStarts=1200+200*Math.sin(s/45)+(l-.5)*100,r.monthsSupply=4.5+1.5*Math.sin(s/60)+(l-.5)*.5,r.newHomeSales=600+100*Math.sin(s/35)+(l-.5)*50,r.existingHomeSales=5.2+.8*Math.sin(s/40)+(l-.5)*.3,r.housingPermits=1300+150*Math.sin(s/50)+(l-.5)*75,r.mortgageRates=6.5+ +Math.sin(s/90)+(l-.5)*.3,r.housePriceIndex=320+30*Math.sin(s/120)+(l-.5)*15,r.unemploymentRate=3.8+1.2*Math.sin(s/180)+(l-.5)*.3,r.nonfarmPayrolls=155e3+5e3*Math.sin(s/60)+(l-.5)*2e3,r.initialClaims=22e4+5e4*Math.sin(s/14)+(l-.5)*2e4,r.continuedClaims=17e5+3e5*Math.sin(s/21)+(l-.5)*1e5,r.claims4Week=225e3+4e4*Math.sin(s/28)+(l-.5)*15e3,r.laborParticipation=63.2+ +Math.sin(s/365)+(l-.5)*.2,r.employmentPopulation=60.1+1.5*Math.sin(s/365)+(l-.5)*.3,r.unemployed=6200+800*Math.sin(s/180)+(l-.5)*300,r.jobOpenings=10500+1500*Math.sin(s/90)+(l-.5)*500,r.quitsRate=2.3+.5*Math.sin(s/120)+(l-.5)*.2,t.push(r)}return t},[]),c=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!e||e.length<=t)return e;console.log("\uD83D\uDCC9 Downsampling ".concat(e.length," data points to ").concat(t," for chart performance"));let s=[...e].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),a=Math.floor(s.length/t),r=[];r.push(s[0]);for(let e=a;e<s.length-a;e+=a)r.push(s[e]);return s.length>1&&r.push(s[s.length-1]),console.log("✅ Downsampled to ".concat(r.length," data points for optimal chart rendering")),r},[]),m=(0,r.useCallback)(async t=>{let s=t||a;console.log("\uD83D\uDD04 Fetching REAL data for category: ".concat(e,", period: ").concat(s)),i(e=>({...e,loading:!0,error:null,currentPeriod:s}));try{var r,l;let t;if("housing"===e){console.log("\uD83C\uDFE0 Calling real HOUSING API with FRED data...");let e=await fetch("/api/housing?period=".concat(s,"&fast=false"));if(!e.ok)throw Error("Housing API failed: ".concat(e.status));t=await e.json(),console.log("✅ Received real housing data:",null==(r=t.timeSeries)?void 0:r.length,"points")}else if("labor"===e){console.log("\uD83D\uDC65 Calling real LABOR API with FRED data...");let e=await fetch("/api/labor?period=".concat(s,"&fast=false"));if(!e.ok)throw Error("Labor API failed: ".concat(e.status));t=await e.json(),console.log("✅ Received real labor data:",null==(l=t.timeSeries)?void 0:l.length,"points")}else console.log("\uD83D\uDCCA Using mock data for category:",e),t={timeSeries:d(365)};let a=t.timeSeries||t.laborData||t.housingData||[];if(!a||!Array.isArray(a)||0===a.length){console.warn("⚠️ No real data received, using fallback mock data");let e=d(365);i(t=>({...t,data:e,loading:!1,lastUpdated:new Date}));return}console.log("✅ Successfully loaded ".concat(a.length," REAL data points for ").concat(e));let n=c(a);i(e=>({...e,data:n,loading:!1,lastUpdated:new Date}))}catch(t){console.error("❌ Error fetching real data, falling back to mock:",t);let e=d(365);i(s=>({...s,data:e,loading:!1,lastUpdated:new Date,error:"API Error: ".concat(t instanceof Error?t.message:"Unknown error"," - Using mock data fallback")}))}},[e,d,a,c]),h=(0,r.useCallback)(e=>{console.log("\uD83D\uDD04 Changing period to: ".concat(e)),m(e)},[m]),x=(0,r.useRef)(!1);(0,r.useEffect)(()=>{x.current||(x.current=!0,m())},[]);let u=(0,r.useCallback)(e=>{i(t=>({...t,seriesConfig:t.seriesConfig.map(t=>t.id===e?{...t,visible:!t.visible}:t)}))},[]),g=(0,r.useCallback)(e=>{i(t=>({...t,seriesConfig:t.seriesConfig.map(t=>({...t,focused:t.id===e&&!t.focused}))}))},[]),p=(0,r.useCallback)(e=>{i(t=>({...t,seriesConfig:t.seriesConfig.map(t=>({...t,visible:e.includes(t.id),focused:!1}))}))},[]),b=(0,r.useCallback)(()=>{i(e=>({...e,seriesConfig:e.seriesConfig.map(e=>({...e,visible:!s||"monthly"===e.frequency||"weekly"===e.frequency,focused:!1}))}))},[s]),f=(0,r.useCallback)(e=>{i(t=>({...t,seriesConfig:t.seriesConfig.map(t=>({...t,visible:t.frequency===e,focused:!1}))}))},[]),y=(0,r.useCallback)(e=>{i(t=>({...t,seriesConfig:t.seriesConfig.map(t=>({...t,visible:t.category===e,focused:!1}))}))},[]),v=(0,r.useMemo)(()=>l.seriesConfig.filter(e=>e.visible),[l.seriesConfig]),j=(0,r.useMemo)(()=>l.seriesConfig.filter(e=>e.focused),[l.seriesConfig]),N=(0,r.useMemo)(()=>{let e={};return l.seriesConfig.forEach(t=>{e[t.frequency]=(e[t.frequency]||0)+1}),e},[l.seriesConfig]);return{data:l.data,seriesConfig:l.seriesConfig,loading:l.loading,error:l.error,lastUpdated:l.lastUpdated,currentPeriod:l.currentPeriod,visibleSeries:v,focusedSeries:j,frequencyBreakdown:N,fetchData:m,changePeriod:h,toggleSeries:u,focusSeries:g,showOnlySeries:p,resetVisibility:b,filterByFrequency:f,filterByCategory:y,generateMockData:d}}let V=[{value:"3m",label:"3M",description:"3 Months",months:3},{value:"6m",label:"6M",description:"6 Months",months:6},{value:"12m",label:"1Y",description:"1 Year",months:12},{value:"24m",label:"2Y",description:"2 Years",months:24},{value:"5y",label:"5Y",description:"5 Years",months:60},{value:"10y",label:"10Y",description:"10 Years",months:120},{value:"20y",label:"20Y",description:"20 Years",months:240},{value:"max",label:"MAX",description:"All Available (1987+)",months:456}],Q=[{id:"prices",name:"Price Trends",description:"Focus on price-related indicators",series:["case_shiller","house_price_index","mortgage_rates"]},{id:"supply",name:"Supply & Demand",description:"Housing supply and sales activity",series:["housing_starts","months_supply","new_home_sales","existing_home_sales"]},{id:"permits",name:"Construction Activity",description:"Building permits and housing starts",series:["housing_permits","housing_starts"]},{id:"all_monthly",name:"Monthly Data",description:"All monthly frequency indicators",series:[]}];function G(e){var t,s,i,x;let{data:u,loading:g=!1,error:p,height:b=600,region:f="National",onPeriodChange:y,selectedPeriod:v="12m"}=e,[j,N]=(0,r.useState)("all_monthly"),[w,k]=(0,r.useState)(),[C,A]=(0,r.useState)(!1),{data:D,seriesConfig:M,loading:I,error:_,lastUpdated:F,currentPeriod:E,visibleSeries:P,focusedSeries:R,toggleSeries:q,focusSeries:W,showOnlySeries:H,resetVisibility:L,filterByFrequency:Y,fetchData:T,changePeriod:K}=z({category:"housing",defaultVisibleSeries:["case_shiller","housing_starts","months_supply","mortgage_rates"],autoSelectFrequency:!0,initialPeriod:v}),B=u||D,O=(0,r.useCallback)(e=>{console.log("\uD83C\uDFE0 Housing period changed to:",e),K(e),null==y||y(e)},[K,y]);(0,r.useEffect)(()=>{let e=V.find(e=>e.value===v);if(e){let t=new Date,s=new Date;if("max"===v||"all"===v)s.setFullYear(1987,0,1);else if(v.endsWith("y")){let e=parseInt(v)||1;s.setFullYear(t.getFullYear()-e)}else if(v.endsWith("m")){let e=parseInt(v)||12;s.setMonth(t.getMonth()-e)}else s.setMonth(t.getMonth()-e.months);k([s.toISOString().split("T")[0],t.toISOString().split("T")[0]])}},[v]);let G=(0,r.useCallback)(e=>{N(e);let t=Q.find(t=>t.id===e);t&&("all_monthly"===e?Y("monthly"):H(t.series))},[H,Y]),J=(0,r.useCallback)(()=>{T()},[T]),X=(0,r.useCallback)(e=>{console.log("Exporting data as ".concat(e)),A(!1)},[]),Z=(0,r.useMemo)(()=>{if(!B.length)return null;let e=B[B.length-1],t=B[B.length-2];if(!e||!t)return null;let s=e.caseSillerIndex&&t.caseSillerIndex?(e.caseSillerIndex-t.caseSillerIndex)/t.caseSillerIndex*100:0,a=e.housingStarts&&t.housingStarts?(e.housingStarts-t.housingStarts)/t.housingStarts*100:0;return{currentPrice:e.caseSillerIndex,priceChange:s,currentStarts:e.housingStarts,startsChange:a,currentSupply:e.monthsSupply,currentRate:e.mortgageRates}},[B]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:(0,a.jsx)(l.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-theme-text",children:[f," Housing Market Analysis"]}),(0,a.jsx)("p",{className:"text-theme-text-muted",children:"Interactive visualization of housing market indicators"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors",title:"Refresh Data",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors",title:"Export Data",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Share Chart",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Share"]})]})]}),Z&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-theme-text-muted",children:["Case-Shiller Index ",(0,a.jsx)("span",{className:"text-xs text-theme-text-light",children:"(CSUSHPINSA)"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-theme-text",children:null==(t=Z.currentPrice)?void 0:t.toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(Z.priceChange>=0?"text-green-600":"text-red-600"),children:[Z.priceChange>=0?(0,a.jsx)(n.A,{className:"w-4 h-4"}):(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(Z.priceChange).toFixed(2),"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-theme-text-muted",children:["Housing Starts ",(0,a.jsx)("span",{className:"text-xs text-theme-text-light",children:"(HOUST)"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[null==(s=Z.currentStarts)?void 0:s.toFixed(0),"K"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(Z.startsChange>=0?"text-green-600":"text-red-600"),children:[Z.startsChange>=0?(0,a.jsx)(n.A,{className:"w-4 h-4"}):(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(Z.startsChange).toFixed(1),"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-theme-text-muted",children:["Months Supply ",(0,a.jsx)("span",{className:"text-xs text-theme-text-light",children:"(MSACSR)"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-theme-text",children:null==(i=Z.currentSupply)?void 0:i.toFixed(1)}),(0,a.jsx)("p",{className:"text-xs text-theme-text-muted mt-1",children:Z.currentSupply&&Z.currentSupply>6?"High":Z.currentSupply&&Z.currentSupply<4?"Low":"Balanced"})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:"30-Year Mortgage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[null==(x=Z.currentRate)?void 0:x.toFixed(2),"%"]}),(0,a.jsx)("p",{className:"text-xs text-theme-text-muted mt-1",children:"Current average rate"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text",children:"Time Period:"}),(0,a.jsx)("div",{className:"flex bg-theme-card border border-theme-border rounded-lg p-1",children:V.map(e=>(0,a.jsx)("button",{onClick:()=>O(e.value),className:"px-3 py-1.5 text-sm rounded transition-all ".concat(E===e.value?"bg-theme-card text-theme-primary shadow-sm font-medium":"text-theme-text-secondary hover:text-theme-text"),title:e.description,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text",children:"Quick Filters:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Q.map(e=>(0,a.jsx)("button",{onClick:()=>G(e.id),className:"px-3 py-1.5 text-sm rounded-lg border transition-all ".concat(j===e.id?"bg-blue-50 text-blue-700 border-blue-200":"bg-theme-card text-theme-text-secondary border-theme-border hover:bg-theme-card-hover"),title:e.description,children:e.name},e.id))})]}),(0,a.jsx)("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-sm text-theme-text-secondary bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors ml-auto",children:"Reset View"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 px-4 py-3 bg-theme-card border border-theme-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-theme-text-secondary",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:P.length})," of ",(0,a.jsx)("strong",{children:M.length})," series visible"]}),R.length>0&&(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[R.length," series focused"]})]}),F&&(0,a.jsxs)("div",{className:"text-sm text-theme-text-muted",children:["Last updated: ",S(F.toISOString(),"short")]})]}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl",style:{minHeight:"800px",height:"auto",overflow:"visible"},children:(0,a.jsx)(U,{data:B,seriesConfig:M,loading:g||I,error:p||_||void 0,height:b,title:"".concat(f," Housing Market Data"),onTimeRangeChange:k,selectedTimeRange:w,showBrush:!0,allowMultipleYAxes:!0})}),C&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl shadow-xl max-w-md w-full",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Export Data"}),(0,a.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>X("csv"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:"CSV Format"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Download as spreadsheet"})]}),(0,a.jsxs)("button",{onClick:()=>X("json"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:"JSON Format"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Raw data structure"})]}),(0,a.jsxs)("button",{onClick:()=>X("png"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:"PNG Image"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Chart screenshot"})]})]})]})})})]})}var J=s(65440),X=s(99966);let Z=[{value:"3m",label:"3M",description:"3 Months",weeks:13},{value:"6m",label:"6M",description:"6 Months",weeks:26},{value:"12m",label:"1Y",description:"1 Year",weeks:52},{value:"24m",label:"2Y",description:"2 Years",weeks:104},{value:"5y",label:"5Y",description:"5 Years",weeks:260},{value:"10y",label:"10Y",description:"10 Years",weeks:520},{value:"20y",label:"20Y",description:"20 Years",weeks:1040},{value:"50y",label:"50Y",description:"50 Years",weeks:2600},{value:"max",label:"MAX",description:"All Available (1948+)",weeks:4e3}],$=[{id:"unemployment",name:"Unemployment Focus",description:"Key unemployment indicators",series:["unemployment_rate","unemployed","initial_claims","continued_claims"]},{id:"employment",name:"Employment Health",description:"Employment levels and participation",series:["nonfarm_payrolls","labor_participation","employment_population","job_openings"]},{id:"claims",name:"Claims Analysis",description:"Weekly unemployment claims data",series:["initial_claims","continued_claims","claims_4wk_avg"]},{id:"weekly",name:"Weekly Data",description:"High-frequency weekly indicators",series:[]},{id:"stress",name:"Stress Indicators",description:"Market stress and volatility signals",series:["initial_claims","unemployment_rate","quits_rate"]}],ee={initial_claims:4e5,unemployment_rate:4.5,continued_claims:18e5,labor_participation:63};function et(e){var t,s,l,x;let{data:u,loading:g=!1,error:p,height:b=600,onPeriodChange:f,selectedPeriod:y="12m",alerts:v=[]}=e,[j,N]=(0,r.useState)("employment"),[w,k]=(0,r.useState)(),[C,A]=(0,r.useState)(!1),[D,M]=(0,r.useState)("low"),{data:I,seriesConfig:_,loading:F,error:E,lastUpdated:P,currentPeriod:R,visibleSeries:q,focusedSeries:W,toggleSeries:H,focusSeries:L,showOnlySeries:Y,resetVisibility:T,filterByFrequency:K,fetchData:B,changePeriod:O}=z({category:"labor",defaultVisibleSeries:["unemployment_rate","nonfarm_payrolls","initial_claims","labor_participation"],autoSelectFrequency:!0,initialPeriod:y}),V=u||I,Q=(0,r.useCallback)(e=>{console.log("\uD83D\uDD04 Labor period changed to:",e),O(e),null==f||f(e)},[O,f]),G=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(G.current!==y){G.current=y;let e=Z.find(e=>e.value===y);if(e){let t=new Date,s=new Date;if("max"===y||"all"===y)s.setFullYear(1948,0,1);else if(y.endsWith("y")){let e=parseInt(y)||1;s.setFullYear(t.getFullYear()-e)}else if(y.endsWith("m")){let e=parseInt(y)||12;s.setMonth(t.getMonth()-e)}else s.setDate(t.getDate()-7*e.weeks);k([s.toISOString().split("T")[0],t.toISOString().split("T")[0]])}}},[y]);let et=(0,r.useCallback)(e=>{N(e);let t=$.find(t=>t.id===e);t&&("weekly"===e?K("weekly"):Y(t.series))},[Y,K]),es=(0,r.useMemo)(()=>{if(!V.length)return"low";let e=V[V.length-1],t=0;return(e.initialClaims>ee.initial_claims&&t++,e.unemploymentRate>ee.unemployment_rate&&t++,e.continuedClaims>ee.continued_claims&&t++,e.laborParticipation<ee.labor_participation&&t++,v.some(e=>"critical"===e.severity)&&t++,t>=3)?"high":t>=1?"medium":"low"},[V.length,v.length]);(0,r.useEffect)(()=>{M(es)},[es]);let ea=(0,r.useCallback)(()=>{B()},[B]),er=(0,r.useCallback)(e=>{console.log("Exporting labor data as ".concat(e)),A(!1)},[]),el=(0,r.useMemo)(()=>{if(!V.length)return null;let e=V[V.length-1],t=V[V.length-2];if(!e||!t)return null;let s=e.unemploymentRate&&t.unemploymentRate?e.unemploymentRate-t.unemploymentRate:0,a=e.initialClaims&&t.initialClaims?(e.initialClaims-t.initialClaims)/t.initialClaims*100:0;return{currentUnemployment:e.unemploymentRate,unemploymentChange:s,currentClaims:e.initialClaims,claimsChange:a,currentParticipation:e.laborParticipation,currentPayrolls:e.nonfarmPayrolls}},[V]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:(0,a.jsx)(i.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-theme-text",children:"Labor Market Analysis"}),(0,a.jsx)("p",{className:"text-theme-text-muted",children:"Interactive visualization of employment and unemployment indicators"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:ea,className:"flex items-center gap-2 px-4 py-2 bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors",title:"Refresh Data",children:[(0,a.jsx)(J.A,{className:"w-4 h-4"}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors",title:"Export Data",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Share Chart",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Share"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-xl ".concat((e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-green-600 bg-green-50 border-green-200"}})(D)),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"Labor Market Stress Level:"})]}),(0,a.jsx)("span",{className:"font-bold text-lg capitalize",children:D})]}),v.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(X.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[v.length," Active Alert",v.length>1?"s":""]})]})]}),el&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:"Unemployment Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[null==(t=el.currentUnemployment)?void 0:t.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(el.unemploymentChange<=0?"text-green-600":"text-red-600"),children:[el.unemploymentChange<=0?(0,a.jsx)(c.A,{className:"w-4 h-4"}):(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(el.unemploymentChange).toFixed(1),"pp"]})]})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:"Initial Claims"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[(s=el.currentClaims/1e3,s.toFixed(0)),"K"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(el.claimsChange<=0?"text-green-600":"text-red-600"),children:[el.claimsChange<=0?(0,a.jsx)(c.A,{className:"w-4 h-4"}):(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(el.claimsChange).toFixed(1),"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:"Labor Participation"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[null==(l=el.currentParticipation)?void 0:l.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-theme-text-muted mt-1",children:el.currentParticipation&&el.currentParticipation<63?"Below Normal":"Healthy"})]})}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-theme-text-muted",children:"Nonfarm Payrolls"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-theme-text",children:[(x=el.currentPayrolls/1e3,x.toFixed(0)),"K"]}),(0,a.jsx)("p",{className:"text-xs text-theme-text-muted mt-1",children:"Total employment"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text",children:"Time Period:"}),(0,a.jsx)("div",{className:"flex bg-theme-card border border-theme-border rounded-lg p-1",children:Z.map(e=>(0,a.jsx)("button",{onClick:()=>Q(e.value),className:"px-3 py-1.5 text-sm rounded transition-all ".concat(R===e.value?"bg-theme-card text-theme-primary shadow-sm font-medium":"text-theme-text-muted hover:text-theme-text"),title:e.description,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-theme-text-muted"}),(0,a.jsx)("span",{className:"text-sm font-medium text-theme-text",children:"Quick Filters:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:$.map(e=>(0,a.jsx)("button",{onClick:()=>et(e.id),className:"px-3 py-1.5 text-sm rounded-lg border transition-all ".concat(j===e.id?"bg-blue-50 text-blue-700 border-blue-200":"bg-theme-card text-theme-text-muted border-theme-border hover:bg-theme-card-hover"),title:e.description,children:e.name},e.id))})]}),(0,a.jsx)("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 text-sm text-theme-text-muted bg-theme-card border border-theme-border rounded-lg hover:bg-theme-card-hover transition-colors ml-auto",children:"Reset View"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 px-4 py-3 bg-theme-card border border-theme-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-theme-text-muted",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:q.length})," of ",(0,a.jsx)("strong",{children:_.length})," series visible"]}),W.length>0&&(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[W.length," series focused"]}),(0,a.jsx)("span",{className:"text-xs text-theme-text-muted",children:"• Weekly data updates on Thursdays • Monthly data on first Friday"})]}),P&&(0,a.jsxs)("div",{className:"text-sm text-theme-text-muted",children:["Last updated: ",S(P.toISOString(),"short")]})]}),(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl",style:{minHeight:"800px",height:"auto",overflow:"visible"},children:(0,a.jsx)(U,{data:V,seriesConfig:_,loading:g||F,error:p||E||void 0,height:b,title:"Labor Market Indicators",onTimeRangeChange:k,selectedTimeRange:w,showBrush:!0,allowMultipleYAxes:!0})}),C&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-theme-card border border-theme-border rounded-xl shadow-xl max-w-md w-full",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-theme-text",children:"Export Labor Data"}),(0,a.jsx)("button",{onClick:()=>A(!1),className:"text-theme-text-light hover:text-theme-text-muted",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>er("csv"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-theme-card-hover transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-theme-text",children:"CSV Format"}),(0,a.jsx)("div",{className:"text-sm text-theme-text-muted",children:"Download as spreadsheet"})]}),(0,a.jsxs)("button",{onClick:()=>er("json"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-theme-card-hover transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-theme-text",children:"JSON Format"}),(0,a.jsx)("div",{className:"text-sm text-theme-text-muted",children:"Raw data structure"})]}),(0,a.jsxs)("button",{onClick:()=>er("png"),className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-theme-card-hover transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-theme-text",children:"PNG Image"}),(0,a.jsx)("div",{className:"text-sm text-theme-text-muted",children:"Chart screenshot"})]})]})]})})})]})}function es(){let[e,t]=(0,r.useState)("housing"),[s,n]=(0,r.useState)("12m"),[o,d]=(0,r.useState)(700);(0,r.useEffect)(()=>{let e=()=>{{let e=window.innerWidth;e<640?d(400):e<1024?d(500):d(700)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=[{id:"housing",name:"Housing",icon:l.A},{id:"labor",name:"Labor",icon:i.A}];return(0,a.jsx)("div",{className:"min-h-screen bg-theme-bg text-theme-text",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-theme-text",children:"Interactive Charts"})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex gap-3",children:c.map(s=>{let r=s.icon,l=e===s.id;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"px-4 py-2 rounded-lg transition-all flex items-center gap-2 ".concat(l?"bg-theme-primary text-white":"bg-theme-card text-theme-text hover:bg-theme-card-hover"),children:[(0,a.jsx)(r,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-medium",children:s.name})]},s.id)})})}),(0,a.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:["housing"===e&&(0,a.jsx)("div",{className:"w-full overflow-hidden",children:(0,a.jsx)(G,{height:o,selectedPeriod:s,onPeriodChange:n,region:"United States"})}),"labor"===e&&(0,a.jsx)("div",{className:"w-full overflow-hidden",children:(0,a.jsx)(et,{height:o,selectedPeriod:s,onPeriodChange:n,alerts:[{id:1,severity:"medium",message:"Initial claims trending upward"},{id:2,severity:"low",message:"Labor participation stable"}]})})]})]})})}},57467:(e,t,s)=>{Promise.resolve().then(s.bind(s,3762))}},e=>{var t=t=>e(e.s=t);e.O(0,[623,110,693,666,587,315,358],()=>t(57467)),_N_E=e.O()}]);