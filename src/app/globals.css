@import "tailwindcss";

/* Light Theme Variables */
:root.light {
  /* Background Colors */
  --theme-bg: #F8FAFC;
  --theme-bg-secondary: #FFFFFF;
  --theme-bg-tertiary: #F1F5F9;
  
  /* Card Colors */
  --theme-card: #FFFFFF;
  --theme-card-hover: #F8FAFC;
  --theme-card-secondary: #F1F5F9;
  
  /* Border Colors */
  --theme-border: #E2E8F0;
  --theme-border-hover: #CBD5E1;
  --theme-border-focus: #7C3AED;
  
  /* Text Colors */
  --theme-text: #1E293B;
  --theme-text-secondary: #475569;
  --theme-text-muted: #64748B;
  --theme-text-light: #94A3B8;
  
  /* Primary Purple Colors */
  --theme-primary: #7C3AED;
  --theme-primary-hover: #8B5CF6;
  --theme-primary-light: #A78BFA;
  --theme-primary-bg: #F3F0FF;
  --theme-primary-border: #C4B5FD;
  
  /* Accent Colors */
  --theme-accent: #7C3AED;
  --theme-accent-hover: #8B5CF6;
  
  /* Status Colors */
  --theme-success: #059669;
  --theme-success-bg: #ECFDF5;
  --theme-success-border: #A7F3D0;
  
  --theme-danger: #DC2626;
  --theme-danger-bg: #FEF2F2;
  --theme-danger-border: #FECACA;
  
  --theme-warning: #D97706;
  --theme-warning-bg: #FFFBEB;
  --theme-warning-border: #FED7AA;
  
  --theme-info: #2563EB;
  --theme-info-bg: #EFF6FF;
  --theme-info-border: #BFDBFE;
  
  /* Trading Specific Colors */
  --theme-risk-on: #059669;
  --theme-risk-on-bg: #ECFDF5;
  --theme-risk-off: #DC2626;
  --theme-risk-off-bg: #FEF2F2;
  --theme-neutral: #D97706;
  --theme-neutral-bg: #FFFBEB;
  
  /* Shadow Colors */
  --theme-shadow: rgba(15, 23, 42, 0.08);
  --theme-shadow-hover: rgba(15, 23, 42, 0.12);
  
  /* Trading Pattern Colors */
  --theme-pattern-primary: rgba(124, 58, 237, 0.03);
  --theme-pattern-secondary: rgba(124, 58, 237, 0.06);
  --theme-grid: rgba(124, 58, 237, 0.08);
}

/* Dark Theme Variables */
:root.dark {
  /* Background Colors */
  --theme-bg: #0A0A0A;
  --theme-bg-secondary: #1A1A1A;
  --theme-bg-tertiary: #2A2A2A;
  
  /* Card Colors */
  --theme-card: #1A1A1A;
  --theme-card-hover: #2A2A2A;
  --theme-card-secondary: #2A2A2A;
  
  /* Border Colors */
  --theme-border: rgba(255, 255, 255, 0.1);
  --theme-border-hover: rgba(255, 255, 255, 0.2);
  --theme-border-focus: #8B5CF6;
  
  /* Text Colors */
  --theme-text: #FFFFFF;
  --theme-text-secondary: #E2E8F0;
  --theme-text-muted: #94A3B8;
  --theme-text-light: #64748B;
  
  /* Primary Purple Colors */
  --theme-primary: #8B5CF6;
  --theme-primary-hover: #A78BFA;
  --theme-primary-light: #C4B5FD;
  --theme-primary-bg: rgba(139, 92, 246, 0.1);
  --theme-primary-border: rgba(139, 92, 246, 0.2);
  
  /* Accent Colors */
  --theme-accent: #8B5CF6;
  --theme-accent-hover: #A78BFA;
  
  /* Status Colors */
  --theme-success: #10B981;
  --theme-success-bg: rgba(16, 185, 129, 0.1);
  --theme-success-border: rgba(16, 185, 129, 0.2);
  
  --theme-danger: #F87171;
  --theme-danger-bg: rgba(248, 113, 113, 0.1);
  --theme-danger-border: rgba(248, 113, 113, 0.2);
  
  --theme-warning: #FBBF24;
  --theme-warning-bg: rgba(251, 191, 36, 0.1);
  --theme-warning-border: rgba(251, 191, 36, 0.2);
  
  --theme-info: #60A5FA;
  --theme-info-bg: rgba(96, 165, 250, 0.1);
  --theme-info-border: rgba(96, 165, 250, 0.2);
  
  /* Trading Specific Colors */
  --theme-risk-on: #10B981;
  --theme-risk-on-bg: rgba(16, 185, 129, 0.1);
  --theme-risk-off: #F87171;
  --theme-risk-off-bg: rgba(248, 113, 113, 0.1);
  --theme-neutral: #FBBF24;
  --theme-neutral-bg: rgba(251, 191, 36, 0.1);
  
  /* Shadow Colors */
  --theme-shadow: rgba(0, 0, 0, 0.3);
  --theme-shadow-hover: rgba(0, 0, 0, 0.4);
  
  /* Trading Pattern Colors */
  --theme-pattern-primary: rgba(139, 92, 246, 0.03);
  --theme-pattern-secondary: rgba(139, 92, 246, 0.06);
  --theme-grid: rgba(139, 92, 246, 0.08);
}

/* Default to dark theme */
:root {
  --theme-bg: #0A0A0A;
  --theme-bg-secondary: #1A1A1A;
  --theme-bg-tertiary: #2A2A2A;
  --theme-card: #1A1A1A;
  --theme-card-hover: #2A2A2A;
  --theme-card-secondary: #2A2A2A;
  --theme-border: rgba(255, 255, 255, 0.1);
  --theme-border-hover: rgba(255, 255, 255, 0.2);
  --theme-border-focus: #8B5CF6;
  --theme-text: #FFFFFF;
  --theme-text-secondary: #E2E8F0;
  --theme-text-muted: #94A3B8;
  --theme-text-light: #64748B;
  --theme-primary: #8B5CF6;
  --theme-primary-hover: #A78BFA;
  --theme-primary-light: #C4B5FD;
  --theme-primary-bg: rgba(139, 92, 246, 0.1);
  --theme-primary-border: rgba(139, 92, 246, 0.2);
  --theme-accent: #8B5CF6;
  --theme-accent-hover: #A78BFA;
  --theme-success: #10B981;
  --theme-success-bg: rgba(16, 185, 129, 0.1);
  --theme-success-border: rgba(16, 185, 129, 0.2);
  --theme-danger: #F87171;
  --theme-danger-bg: rgba(248, 113, 113, 0.1);
  --theme-danger-border: rgba(248, 113, 113, 0.2);
  --theme-warning: #FBBF24;
  --theme-warning-bg: rgba(251, 191, 36, 0.1);
  --theme-warning-border: rgba(251, 191, 36, 0.2);
  --theme-info: #60A5FA;
  --theme-info-bg: rgba(96, 165, 250, 0.1);
  --theme-info-border: rgba(96, 165, 250, 0.2);
  --theme-risk-on: #10B981;
  --theme-risk-on-bg: rgba(16, 185, 129, 0.1);
  --theme-risk-off: #F87171;
  --theme-risk-off-bg: rgba(248, 113, 113, 0.1);
  --theme-neutral: #FBBF24;
  --theme-neutral-bg: rgba(251, 191, 36, 0.1);
  --theme-shadow: rgba(0, 0, 0, 0.3);
  --theme-shadow-hover: rgba(0, 0, 0, 0.4);
  --theme-pattern-primary: rgba(139, 92, 246, 0.03);
  --theme-pattern-secondary: rgba(139, 92, 246, 0.06);
  --theme-grid: rgba(139, 92, 246, 0.08);
}

@theme inline {
  --color-theme-bg: var(--theme-bg);
  --color-theme-bg-secondary: var(--theme-bg-secondary);
  --color-theme-bg-tertiary: var(--theme-bg-tertiary);
  --color-theme-card: var(--theme-card);
  --color-theme-card-hover: var(--theme-card-hover);
  --color-theme-card-secondary: var(--theme-card-secondary);
  --color-theme-border: var(--theme-border);
  --color-theme-border-hover: var(--theme-border-hover);
  --color-theme-border-focus: var(--theme-border-focus);
  --color-theme-text: var(--theme-text);
  --color-theme-text-secondary: var(--theme-text-secondary);
  --color-theme-text-muted: var(--theme-text-muted);
  --color-theme-text-light: var(--theme-text-light);
  --color-theme-primary: var(--theme-primary);
  --color-theme-primary-hover: var(--theme-primary-hover);
  --color-theme-primary-light: var(--theme-primary-light);
  --color-theme-primary-bg: var(--theme-primary-bg);
  --color-theme-primary-border: var(--theme-primary-border);
  --color-theme-accent: var(--theme-accent);
  --color-theme-accent-hover: var(--theme-accent-hover);
  --color-theme-success: var(--theme-success);
  --color-theme-success-bg: var(--theme-success-bg);
  --color-theme-success-border: var(--theme-success-border);
  --color-theme-danger: var(--theme-danger);
  --color-theme-danger-bg: var(--theme-danger-bg);
  --color-theme-danger-border: var(--theme-danger-border);
  --color-theme-warning: var(--theme-warning);
  --color-theme-warning-bg: var(--theme-warning-bg);
  --color-theme-warning-border: var(--theme-warning-border);
  --color-theme-info: var(--theme-info);
  --color-theme-info-bg: var(--theme-info-bg);
  --color-theme-info-border: var(--theme-info-border);
  --color-theme-risk-on: var(--theme-risk-on);
  --color-theme-risk-on-bg: var(--theme-risk-on-bg);
  --color-theme-risk-off: var(--theme-risk-off);
  --color-theme-risk-off-bg: var(--theme-risk-off-bg);
  --color-theme-neutral: var(--theme-neutral);
  --color-theme-neutral-bg: var(--theme-neutral-bg);
  --color-theme-shadow: var(--theme-shadow);
  --color-theme-shadow-hover: var(--theme-shadow-hover);
  --color-theme-pattern-primary: var(--theme-pattern-primary);
  --color-theme-pattern-secondary: var(--theme-pattern-secondary);
  --color-theme-grid: var(--theme-grid);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Trading Background Patterns */
.trading-background {
  position: relative;
  overflow: hidden;
}

.trading-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    /* Subtle grid pattern */
    linear-gradient(var(--theme-grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--theme-grid) 1px, transparent 1px),
    /* Trading chart pattern */
    radial-gradient(circle at 25% 25%, var(--theme-pattern-primary) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, var(--theme-pattern-secondary) 0%, transparent 50%);
  background-size: 50px 50px, 50px 50px, 200px 200px, 200px 200px;
  background-position: 0 0, 0 0, 0 0, 0 0;
  pointer-events: none;
  z-index: 0;
}

.trading-background-subtle {
  position: relative;
  overflow: hidden;
}

.trading-background-subtle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    /* Very subtle grid */
    linear-gradient(rgba(124, 58, 237, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124, 58, 237, 0.02) 1px, transparent 1px);
  background-size: 100px 100px;
  pointer-events: none;
  z-index: 0;
}

/* Financial symbol watermarks for light theme */
:root.light .trading-symbols::after {
  content: '₿ $ € £ ¥ ∑ ∆ π ∫ ∞ ≈ ± × ÷ % ‰ ∞';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-5deg);
  font-size: 12px;
  color: rgba(124, 58, 237, 0.03);
  white-space: nowrap;
  letter-spacing: 20px;
  pointer-events: none;
  z-index: 0;
}

/* Smooth theme transitions */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

body {
  background: var(--theme-bg);
  color: var(--theme-text);
  font-family: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--theme-bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--theme-border-hover);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--theme-text-muted);
}

/* Focus styles */
*:focus {
  outline: none;
}

*:focus-visible {
  outline: 2px solid var(--theme-accent);
  outline-offset: 2px;
}

/* Chart Container Styles */
.chart-container {
  position: relative;
  z-index: 10;
  min-height: 300px;
  width: 100%;
}

.chart-responsive-wrapper {
  position: relative;
  z-index: 10;
  height: 100%;
  width: 100%;
}

/* Chart-specific element exclusions from global transitions */
.chart-container *,
.recharts-wrapper *,
.recharts-surface * {
  transition: none !important;
}

/* Chart Loading States */
.chart-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  background: var(--theme-card);
  border: 1px solid var(--theme-border);
  border-radius: 0.75rem;
}

.chart-error {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  background: var(--theme-danger-bg);
  border: 1px solid var(--theme-danger-border);
  border-radius: 0.75rem;
  color: var(--theme-danger);
}

/* Enhanced Chart Theme Integration */
.chart-container {
  position: relative;
  z-index: 10;
  width: 100%;
  background: var(--theme-card);
  border-radius: 0.75rem;
}

.chart-container .recharts-wrapper {
  width: 100% !important;
  height: 100% !important;
}

.chart-container .recharts-surface {
  overflow: visible;
}

/* Force theme colors in Recharts SVG elements */
.chart-container .recharts-cartesian-grid line {
  stroke: var(--theme-border) !important;
  opacity: 0.3;
}

.chart-container .recharts-cartesian-grid-horizontal line,
.chart-container .recharts-cartesian-grid-vertical line {
  stroke: var(--theme-grid) !important;
  opacity: 0.5;
}

.chart-container .recharts-xAxis .recharts-cartesian-axis-tick-value,
.chart-container .recharts-yAxis .recharts-cartesian-axis-tick-value {
  fill: var(--theme-text-muted) !important;
  font-size: 12px;
}

.chart-container .recharts-xAxis .recharts-cartesian-axis-line,
.chart-container .recharts-yAxis .recharts-cartesian-axis-line {
  stroke: var(--theme-border) !important;
}

.chart-container .recharts-tooltip-wrapper {
  z-index: 1000 !important;
}

.chart-container .recharts-tooltip-cursor {
  stroke: var(--theme-primary) !important;
  opacity: 0.3;
}

.chart-container .recharts-reference-line line {
  stroke: var(--theme-text-light) !important;
  stroke-dasharray: 5,5;
  opacity: 0.7;
}

.chart-container .recharts-reference-dot circle {
  stroke: var(--theme-card) !important;
  stroke-width: 2;
}

/* Legacy support for existing classes */
.chart-grid-color { stroke: var(--theme-border) !important; }
.chart-axis-color { stroke: var(--theme-text-muted) !important; }
.chart-text-color { fill: var(--theme-text-muted) !important; }

/* CHART VISIBILITY FIXES - Ensure charts are not hidden */
.chart-container {
  overflow: visible !important;
  height: auto !important;
  min-height: 800px !important;
}

.chart-responsive-wrapper {
  overflow: visible !important;
  height: auto !important;
  min-height: 800px !important;
}

/* Ensure ResponsiveContainer doesn't get hidden */
.recharts-responsive-container {
  overflow: visible !important;
  height: auto !important;
  min-height: 700px !important;
}

/* Fix any containers that might clip charts */
.bg-white.border.rounded-xl {
  overflow: visible !important;
}

/* Remove any clipping from page containers */
.max-w-7xl {
  overflow: visible !important;
}

main {
  overflow: visible !important;
}

/* Fix any potential layout issues with chart pages */
.chart-page-container {
  min-height: 100vh;
  overflow-y: auto;
}

/* Ensure main containers don't restrict chart height */
main {
  overflow: visible !important;
}

/* Responsive chart containers */
@media (max-width: 768px) {
  .chart-container {
    min-height: 500px !important;
  }
  
  .chart-responsive-wrapper {
    min-height: 500px !important;
  }
  
  .recharts-responsive-container {
    height: 400px !important;
    min-height: 400px !important;
  }
}

@media (max-width: 640px) {
  .chart-container {
    min-height: 400px !important;
  }
  
  .chart-responsive-wrapper {
    min-height: 400px !important;
  }
  
  .recharts-responsive-container {
    height: 350px !important;
    min-height: 350px !important;
  }
}

/* =================================================================
 * UNIFIED NAVIGATION STYLES
 * =================================================================*/

/* Professional navigation backdrop blur */
.nav-backdrop {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.95);
}

:root.dark .nav-backdrop {
  background: rgba(26, 26, 26, 0.95);
}

/* Navigation item hover effects */
.nav-item {
  position: relative;
  overflow: hidden;
}

.nav-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 0.5s ease;
}

.nav-item:hover::before {
  left: 100%;
}

/* =================================================================
 * MOBILE OPTIMIZATION STYLES
 * =================================================================*/

/* Touch-optimized interactions */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Hide scrollbars on mobile while maintaining functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Safe area adjustments for mobile devices */
@supports (padding: max(0px)) {
  .safe-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  
  .safe-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  .safe-left {
    padding-left: max(1rem, env(safe-area-inset-left));
  }
  
  .safe-right {
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* Mobile-first responsive text scaling */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

@media (min-width: 641px) {
  html {
    font-size: 16px;
  }
}

/* Enhanced touch targets for mobile */
@media (max-width: 768px) {
  button, 
  [role="button"], 
  input[type="button"], 
  input[type="submit"], 
  .cursor-pointer {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Better spacing for mobile inputs */
  input, 
  textarea, 
  select {
    padding: 12px 16px;
    font-size: 16px; /* Prevents zoom on iOS */
  }
}

/* Mobile navigation optimizations */
@media (max-width: 768px) {
  .mobile-nav-item {
    padding: 12px 16px;
    margin: 4px 0;
    border-radius: 8px;
    transition: all 0.2s ease;
  }
  
  .mobile-nav-item:active {
    transform: scale(0.98);
    background-color: var(--theme-card-hover);
  }
}

/* Mobile modal optimizations */
@media (max-width: 640px) {
  .mobile-modal {
    margin: 0;
    border-radius: 16px 16px 0 0;
    max-height: 90vh;
    min-height: 50vh;
  }
  
  .mobile-modal-header {
    padding: 16px;
    border-bottom: 1px solid var(--theme-border);
    border-radius: 16px 16px 0 0;
  }
  
  .mobile-modal-content {
    padding: 16px;
    overflow-y: auto;
    max-height: calc(90vh - 80px);
  }
}

/* Card hover effects for mobile */
@media (hover: none) and (pointer: coarse) {
  .hover\:scale-\[1\.02\]:hover {
    transform: none;
  }
  
  .hover\:scale-\[1\.02\]:active {
    transform: scale(0.98);
  }
}

/* Mobile-friendly grid adjustments */
@media (max-width: 640px) {
  .mobile-grid-single {
    grid-template-columns: 1fr;
  }
  
  .mobile-grid-double {
    grid-template-columns: 1fr 1fr;
  }
}

/* Improve text readability on mobile */
@media (max-width: 768px) {
  .text-mobile-base {
    font-size: 0.875rem;
    line-height: 1.5;
  }
  
  .text-mobile-lg {
    font-size: 1.125rem;
    line-height: 1.4;
  }
  
  .text-mobile-xl {
    font-size: 1.5rem;
    line-height: 1.3;
  }
}

/* Loading states optimized for mobile */
@media (max-width: 640px) {
  .mobile-loading {
    padding: 2rem 1rem;
  }
  
  .mobile-loading .animate-spin {
    width: 2rem;
    height: 2rem;
  }
}

/* Better mobile spacing */
.mobile-space-y-2 > * + * {
  margin-top: 0.5rem;
}

.mobile-space-y-3 > * + * {
  margin-top: 0.75rem;
}

.mobile-space-y-4 > * + * {
  margin-top: 1rem;
}

/* Mobile performance optimizations */
@media (max-width: 768px) {
  * {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
  }
  
  .transition-transform {
    will-change: transform;
  }
  
  .transition-colors {
    will-change: background-color, color;
  }
}

/* =================================================================
 * CLERK MODAL MOBILE OPTIMIZATION
 * =================================================================*/

/* Prevent body scroll lock issues on mobile */
@media (max-width: 768px) {
  /* Override Clerk's body scroll lock behavior */
  body.cl-modal-open {
    overflow: auto !important;
    position: static !important;
    height: auto !important;
    width: auto !important;
  }
  
  /* Clerk modal container mobile optimization */
  .cl-modalContainer {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    z-index: 9999 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* Clerk modal backdrop */
  .cl-modalBackdrop {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;
    height: 100dvh !important;
    background-color: rgba(0, 0, 0, 0.75) !important;
    backdrop-filter: blur(4px) !important;
    z-index: 9998 !important;
  }
  
  /* Clerk modal content - mobile-first bottom sheet style */
  .cl-modalContent {
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    border-radius: 16px 16px 0 0 !important;
    max-height: 90vh !important;
    max-height: 90dvh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    transform: translateY(0) !important;
    animation: slideUpMobile 0.3s ease-out !important;
  }
  
  /* Clerk sign-in/sign-up card mobile optimization */
  .cl-card {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    border-radius: 16px 16px 0 0 !important;
    border: none !important;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15) !important;
  }
  
  /* Clerk form inputs mobile optimization */
  .cl-formFieldInput {
    min-height: 48px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    padding: 12px 16px !important;
    border-radius: 8px !important;
  }
  
  /* Clerk buttons mobile optimization */
  .cl-formButtonPrimary {
    min-height: 48px !important;
    font-size: 16px !important;
    border-radius: 8px !important;
    padding: 14px 20px !important;
    touch-action: manipulation !important;
  }
  
  /* Clerk modal header mobile optimization */
  .cl-modalContent .cl-header {
    padding: 16px 16px 8px 16px !important;
    border-bottom: 1px solid var(--theme-border) !important;
  }
  
  /* Clerk modal body mobile optimization */
  .cl-modalContent .cl-main {
    padding: 16px !important;
    overflow-y: auto !important;
    max-height: calc(80vh - 100px) !important;
    max-height: calc(80dvh - 100px) !important;
  }
  
  /* Safe area adjustments for Clerk modal */
  .cl-modalContent {
    padding-bottom: env(safe-area-inset-bottom, 0px) !important;
  }
  
  /* Clerk social buttons mobile optimization */
  .cl-socialButtons {
    gap: 12px !important;
  }
  
  .cl-socialButtonsBlockButton {
    min-height: 48px !important;
    border-radius: 8px !important;
    touch-action: manipulation !important;
  }
}

/* Slide up animation for mobile modal */
@keyframes slideUpMobile {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Additional iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  @media (max-width: 768px) {
    /* iOS Safari viewport height fix */
    .cl-modalContainer {
      height: -webkit-fill-available !important;
    }
    
    .cl-modalBackdrop {
      height: -webkit-fill-available !important;
    }
    
    /* Prevent iOS bounce scrolling issues */
    .cl-modalContent {
      -webkit-overflow-scrolling: touch !important;
      overflow: auto !important;
    }
    
    /* Fix iOS input zoom */
    .cl-formFieldInput {
      font-size: 16px !important;
      transform: scale(1) !important;
    }
  }
}

/* Desktop Clerk modal improvements */
@media (min-width: 769px) {
  .cl-modalContent {
    border-radius: 12px !important;
    max-width: 400px !important;
    margin: auto !important;
    position: relative !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
  }
}

/* =================================================================
 * MOBILE BROWSER COMPATIBILITY FIXES
 * =================================================================*/

/* Chrome Mobile Address Bar Hiding Support */
@media (max-width: 768px) {
  /* Fix for Chrome mobile address bar */
  html {
    height: -webkit-fill-available;
    height: fill-available;
  }
  
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
    min-height: fill-available;
    /* Prevent horizontal scrolling on mobile */
    overflow-x: hidden;
    /* Ensure proper touch scrolling */
    -webkit-overflow-scrolling: touch;
  }
  
  /* Fix button click delays on iOS */
  button, 
  input[type="submit"], 
  input[type="button"], 
  [role="button"] {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Prevent zoom on input focus (iOS) */
  input, 
  textarea, 
  select {
    font-size: 16px !important;
    -webkit-appearance: none;
    appearance: none;
  }
  
  /* Fix sticky positioning on mobile */
  .sticky {
    position: -webkit-sticky !important;
    position: sticky !important;
  }
}

/* Samsung Internet Browser Fixes */
@media (max-width: 768px) {
  /* Fix Samsung Internet modal issues */
  .cl-modalContainer {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

/* Firefox Mobile Fixes */
@-moz-document url-prefix() {
  @media (max-width: 768px) {
    .cl-modalContent {
      -moz-overflow-scrolling: auto !important;
    }
  }
}

/* High DPI Mobile Device Optimizations */
@media (max-width: 768px) and (min-resolution: 2dppx) {
  /* Optimize for high-DPI mobile screens */
  * {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Ensure sharp rendering on retina displays */
  .cl-card,
  .bg-theme-card {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Landscape Mobile Optimizations */
@media (max-width: 768px) and (orientation: landscape) {
  /* Adjust Clerk modal for landscape mobile */
  .cl-modalContent {
    max-height: 85vh !important;
    max-height: 85dvh !important;
  }
  
  /* Reduce header height in landscape */
  header {
    min-height: auto !important;
  }
}

/* Dark Mode Mobile Optimizations */
@media (max-width: 768px) and (prefers-color-scheme: dark) {
  /* Ensure proper contrast in dark mode on mobile */
  .cl-modalContent {
    color-scheme: dark;
  }
  
  /* Fix dark mode input styling on mobile */
  .cl-formFieldInput {
    color-scheme: dark !important;
  }
}
